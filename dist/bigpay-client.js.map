{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap cc4330adadd0445ff9d9","webpack:///./src/index.js","webpack:///./src/client/index.js","webpack:///./src/client/create-client.js","webpack:///./src/client/client.js","webpack:///./src/payment/index.js","webpack:///./src/payment/payment-types.js","webpack:///./src/payment/initialize-offsite-payment.js","webpack:///./src/payment/urls.js","webpack:///./src/common/validation/index.js","webpack:///./src/common/validation/is-valid.js","webpack:///./src/common/utils/index.js","webpack:///./src/common/utils/capitalize.js","webpack:///./src/common/utils/includes.js","webpack:///./src/common/utils/is-object.js","webpack:///./src/common/utils/to-snake-case.js","webpack:///./src/common/validation/validate.js","webpack:///./src/common/validation/validators/index.js","webpack:///./src/common/validation/validators/validate-required.js","webpack:///./src/payment/offsite-mappers/index.js","webpack:///./src/payment/offsite-mappers/map-to-payload.js","webpack:///./~/object-assign/index.js","webpack:///./src/payment/offsite-mappers/map-to-address.js","webpack:///./src/payment/offsite-mappers/map-to-customer.js","webpack:///./src/payment/offsite-mappers/map-to-meta.js","webpack:///./src/payment/offsite-mappers/map-to-store.js","webpack:///./src/common/form-request/index.js","webpack:///./src/common/form-request/post-form.js","webpack:///./src/common/form-request/create-form.js","webpack:///./src/payment/offsite-validators/validate-payment-request.js","webpack:///./src/payment/offsite-validators/validate-cart.js","webpack:///./src/payment/offsite-validators/validate-payment-method.js","webpack:///./src/payment/offsite-validators/validate-order.js","webpack:///./src/payment/offsite-validators/validate-store.js","webpack:///./src/payment/submit-payment.js","webpack:///./src/common/http-request/index.js","webpack:///./src/common/http-request/post-request.js","webpack:///./src/common/http-request/constants/index.js","webpack:///./src/common/http-request/constants/content-types.js","webpack:///./src/common/http-request/constants/method-types.js","webpack:///./src/common/http-request/constants/default-options.js","webpack:///./src/common/http-request/send-request.js","webpack:///./src/common/http-request/create-request.js","webpack:///./src/payment/mappers/index.js","webpack:///./src/payment/mappers/map-to-headers.js","webpack:///./src/payment/mappers/map-to-payload.js","webpack:///./src/payment/mappers/map-to-customer.js","webpack:///./src/payment/mappers/map-to-order.js","webpack:///./src/payment/mappers/map-to-address.js","webpack:///./src/payment/mappers/map-to-items.js","webpack:///./src/payment/mappers/map-to-order-totals.js","webpack:///./src/payment/mappers/map-to-payment.js","webpack:///./src/payment/mappers/map-to-credit-card.js","webpack:///./src/payment/mappers/map-to-store.js","webpack:///./src/payment/validators/validate-payment-request.js","webpack:///./src/payment/validators/validate-order.js","webpack:///./src/payment/validators/validate-payment.js","webpack:///./src/payment/validators/validate-store.js","webpack:///./src/payment/offsite-mappers/map-to-billing-address.js","webpack:///./src/payment/offsite-mappers/map-to-shipping-address.js","webpack:///./src/payment/offsite-validators/index.js"],"names":["createClient","config","Client","host","data","paymentMethod","type","HOSTED","error","Error","Promise","reject","API","PAYMENT_TYPES","initializeOffsitePayment","submitPayment","OFFLINE","validation","payload","getOffsitePaymentUrl","getPaymentUrl","isValid","validate","keys","Object","length","key","shift","capitalize","includes","isObject","toSnakeCase","string","charAt","toUpperCase","slice","items","item","Array","isArray","indexOf","value","replace","toLowerCase","validators","getValidator","validatorName","validateFunctionName","validateField","fieldData","fieldRules","reduce","result","validator","rules","forEach","validateRequired","undefined","mapToPayload","authToken","cart","order","amount","grandTotal","integerAmount","bc_auth_token","currency","gateway","notify_url","callbackUrl","order_id","id","page_title","document","title","payment_method_id","reference_id","return_url","redirectUrl","mapToAddress","addressKey","address","formattedAddressKey","city","company","countryCode","country","firstName","lastName","phone","provinceCode","province","addressLine1","addressLine2","postCode","mapToCustomer","customer","store","customer_browser_info","navigator","userAgent","customer_email","email","customer_first_name","customer_geo_country_code","geoCountryCode","customer_last_name","customer_locale","storeLanguage","customer_name","name","customer_phone","phoneNumber","customer_reference","mapToMeta","source","meta_referrer","referrer","meta_source","meta_user_agent","mapToStore","store_hash","storeHash","store_id","storeId","postForm","url","form","submit","window","addEventListener","handleBeforeUnload","removeEventListener","resolve","createForm","createInput","input","createElement","setAttribute","appendChild","validatePaymentRequest","paymentRequestData","validateCart","cartData","validatePaymentMethod","validateOrder","orderData","orderId","storeData","requestOptions","headers","postRequest","sendRequest","options","mergedOptions","method","POST","CONTENT_TYPES","METHOD_TYPES","DEFAULT_OPTIONS","APPLICATION_JSON","GET","Accept","getRequestBody","contentType","JSON","stringify","getErrorResponse","xhr","response","getResponse","getResponseHeader","status","statusText","responseText","parse","isSuccessfulRequest","onerror","onload","send","createRequest","setHeaders","headerKeys","setRequestHeader","setOptions","withCredentials","XMLHttpRequest","open","mapToHeaders","AUTHORIZATION","payment","geo_ip_country_code","customerId","session_token","sessionHash","mapToOrder","billing_address","shipping_address","token","totals","country_code","first_name","last_name","state_code","state","street_1","street_2","zip","mapToItems","map","code","itemData","price","quantity","sku","mapToOrderTotals","grand_total","handling","shipping","subtotal","subTotal","tax","taxTotal","mapToPayment","credit_card_token","nouce","credit_card","device_info","deviceData","mapToCreditCard","account_name","ccName","number","ccNumber","month","ccExpiry","verification_value","ccCvv","year","hash","storeName","validatePayment","paymentData","nouceValidation","creditCardValidation","mapToBillingAddress","mapToShippingAddress"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtCA;;SAGIA,Y;;;;;;;;;;;;;ACHJ;;;;;;SAGIA,Y;;;;;;;;;;;mBCIoBA,Y;;AAPxB;;;;;;AAEA;;;;;AAKe,UAASA,YAAT,CAAsBC,MAAtB,EAA8B;AACzC,UAAO,qBAAWA,MAAX,CAAP;AACH,E;;;;;;;;;;;;;;ACTD;;;;KAEqBC,M;AACjB;;;;;AAKA,2BAAsB;AAAA,aAARC,IAAQ,QAARA,IAAQ;;AAAA;;AAClB,cAAKA,IAAL,GAAYA,IAAZ;AACH;;AAED;;;;;;;;;kDAKyBC,I,EAAM;AAAA,uCACIA,IADJ,CACnBC,aADmB;AAAA,iBACnBA,aADmB,uCACH,EADG;;;AAG3B,iBAAIA,cAAcC,IAAd,KAAuB,uBAAcC,MAAzC,EAAiD;AAC7C,qBAAMC,QAAQ,IAAIC,KAAJ,CAAaL,KAAKE,IAAlB,wBAAd;;AAEA,wBAAOI,QAAQC,MAAR,CAAeH,KAAf,CAAP;AACH;;AAED,oBAAO,uCAAyBJ,IAAzB,EAA+B,EAAED,MAAM,KAAKA,IAAb,EAA/B,CAAP;AACH;;AAED;;;;;;;;uCAKcC,I,EAAM;AAAA,wCACeA,IADf,CACRC,aADQ;AAAA,iBACRA,aADQ,wCACQ,EADR;;;AAGhB,iBAAIA,cAAcC,IAAd,KAAuB,uBAAcM,GAAzC,EAA8C;AAC1C,qBAAMJ,QAAQ,IAAIC,KAAJ,CAAaL,KAAKE,IAAlB,wBAAd;;AAEA,wBAAOI,QAAQC,MAAR,CAAeH,KAAf,CAAP;AACH;;AAED,oBAAO,4BAAcJ,IAAd,EAAoB,EAAED,MAAM,KAAKA,IAAb,EAApB,CAAP;AACH;;;;;;mBA1CgBD,M;;;;;;;;;;;;;ACFrB;;KAAYW,a;;AACZ;;;;AACA;;;;;;;;SAGIA,a,GAAAA,a;SACAC,wB;SACAC,a;;;;;;;;;;;ACPG,KAAMH,oBAAM,kBAAZ;AACA,KAAML,0BAAS,qBAAf;AACA,KAAMS,4BAAU,sBAAhB,C;;;;;;;;;;;mBCWiBF,wB;;AAbxB;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;;;;AAOe,UAASA,wBAAT,CAAkCV,IAAlC,EAAuD;AAAA,sEAAJ,EAAI;;AAAA,SAAbD,IAAa,QAAbA,IAAa;;AAClE,SAAMc,aAAa,+CAAuBb,IAAvB,CAAnB;;AAEA,SAAI,CAAC,yBAAQa,UAAR,CAAL,EAA0B;AACtB,gBAAOP,QAAQC,MAAR,CAAe,IAAIF,KAAJ,CAAU,EAAEQ,sBAAF,EAAV,CAAf,CAAP;AACH;;AAED,SAAMC,UAAU,kCAAad,IAAb,CAAhB;;AAEA,YAAO,2BAAS,gCAAqBD,IAArB,CAAT,EAAqCe,OAArC,CAAP;AACH,E;;;;;;;;;;;SClBeC,oB,GAAAA,oB;SASAC,a,GAAAA,a;AAdhB;;;;;AAKO,UAASD,oBAAT,CAA8BhB,IAA9B,EAAoC;AACvC,UAAUA,IAAV;AACH;;AAED;;;;;AAKO,UAASiB,aAAT,CAAuBjB,IAAvB,EAA6B;AAChC,UAAUA,IAAV;AACH,E;;;;;;;;;;;;;AChBD;;;;AACA;;;;;;SAGIkB,O;SACAC,Q;;;;;;;;;;;mBCEoBD,O;;AAPxB;;AAEA;;;;;AAKe,UAASA,OAAT,CAAiBJ,UAAjB,EAA6B;AACxC,SAAMM,OAAOC,OAAOD,IAAP,CAAYN,UAAZ,CAAb;;AAEA,YAAOM,KAAKE,MAAL,GAAc,CAArB,EAAwB;AACpB,aAAMC,MAAMH,KAAKI,KAAL,EAAZ;;AAEA,aAAIV,WAAWS,GAAX,MAAoB,KAAxB,EAA+B;AAC3B,oBAAO,KAAP;AACH;;AAED,aAAI,qBAAST,WAAWS,GAAX,CAAT,KAA6B,CAACL,QAAQJ,WAAWS,GAAX,CAAR,CAAlC,EAA4D;AACxD,oBAAO,KAAP;AACH;AACJ;;AAED,YAAO,IAAP;AACH,E;;;;;;;;;;;;;ACvBD;;;;AACA;;;;AACA;;;;AACA;;;;;;SAGIE,U;SACAC,Q;SACAC,Q;SACAC,W;;;;;;;;;;;mBCJoBH,U;AALxB;;;;;AAKe,UAASA,UAAT,CAAoBI,MAApB,EAA4B;AACvC,SAAI,CAACA,MAAL,EAAa;AACT,gBAAOA,MAAP;AACH;;AAED,YAAOA,OAAOC,MAAP,CAAc,CAAd,EAAiBC,WAAjB,KAAiCF,OAAOG,KAAP,CAAa,CAAb,CAAxC;AACH,E;;;;;;;;;;;mBCLuBN,Q;AANxB;;;;;;AAMe,UAASA,QAAT,CAAkBO,KAAlB,EAAyBC,IAAzB,EAA+B;AAC1C,SAAI,CAACC,MAAMC,OAAN,CAAcH,KAAd,CAAD,IAAyB,OAAOA,KAAP,KAAiB,QAA9C,EAAwD;AACpD,gBAAO,KAAP;AACH;;AAED,YAAOA,MAAMI,OAAN,CAAcH,IAAd,MAAwB,CAAC,CAAhC;AACH,E;;;;;;;;;;;;;;mBCPuBP,Q;AALxB;;;;;AAKe,UAASA,QAAT,CAAkBW,KAAlB,EAAyB;AACpC,OAAMnC,cAAcmC,KAAd,yCAAcA,KAAd,CAAN;;AAEA,UAAOA,UAAU,IAAV,KAAmBnC,SAAS,QAAT,IAAqBA,SAAS,UAAjD,CAAP;AACH,E;;;;;;;;;;;mBCJuByB,W;AALxB;;;;;AAKe,UAASA,WAAT,CAAqBC,MAArB,EAA6B;AACxC,SAAI,CAACA,MAAL,EAAa;AACT,gBAAOA,MAAP;AACH;;AAED,YAAOA,OAAOU,OAAP,CAAe,oBAAf,EAAqC,OAArC,EACFA,OADE,CACM,SADN,EACiB,GADjB,EAEFC,WAFE,EAAP;AAGH,E;;;;;;;;;;;mBC2BuBrB,Q;;AAxCxB;;AACA;;KAAYsB,U;;;;AAEZ;;;;;;AAMA,UAASC,YAAT,CAAsBC,aAAtB,EAAqC;AACjC,SAAMC,oCAAkC,uBAAWD,aAAX,CAAxC;;AAEA,YAAOF,WAAWG,oBAAX,CAAP;AACH;;AAED;;;;;;;AAOA,UAASC,aAAT,CAAuBC,SAAvB,EAAkCC,UAAlC,EAA8C;AAC1C,YAAOA,WAAWC,MAAX,CAAkB,UAACC,MAAD,EAASN,aAAT,EAA2B;AAChD,aAAMO,YAAYR,aAAaC,aAAb,CAAlB;;AAEA,aAAIO,SAAJ,EAAe;AACXD,oBAAON,aAAP,IAAwBO,UAAUJ,SAAV,CAAxB;AACH;;AAED,gBAAOG,MAAP;AACH,MARM,EAQJ,EARI,CAAP;AASH;;AAED;;;;;;AAMe,UAAS9B,QAAT,CAAkBlB,IAAlB,EAAwBkD,KAAxB,EAA+B;AAC1C,SAAMF,SAAS,EAAf;;AAEA5B,YAAOD,IAAP,CAAY+B,KAAZ,EAAmBC,OAAnB,CAA2B,eAAO;AAC9B,aAAMN,YAAY7C,KAAKsB,GAAL,CAAlB;AACA,aAAMwB,aAAaI,MAAM5B,GAAN,CAAnB;;AAEA,aAAIY,MAAMC,OAAN,CAAcW,UAAd,CAAJ,EAA+B;AAC3BE,oBAAO1B,GAAP,IAAcsB,cAAcC,SAAd,EAAyBC,UAAzB,CAAd;AACH,UAFD,MAEO;AACHE,oBAAO1B,GAAP,IAAcJ,SAAS2B,SAAT,EAAoBC,UAApB,CAAd;AACH;AACJ,MATD;;AAWA,YAAOE,MAAP;AACH,E;;;;;;;;;;;;;ACvDD;;;;;;SAGII,gB;;;;;;;;;;;mBCEoBA,gB;AALxB;;;;;AAKe,UAASA,gBAAT,CAA0Bf,KAA1B,EAAiC;AAC5C,UAAOA,UAAUgB,SAAV,IACAhB,UAAU,IADV,IAEAA,UAAU,EAFjB;AAGH,E;;;;;;;;;;;;;ACTD;;;;;;SAGIiB,Y;;;;;;;;;;;mBCSoBA,Y;;AAZxB;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;;;;;AAKe,UAASA,YAAT,CAAsBtD,IAAtB,EAA4B;AAAA,SAC/BuD,SAD+B,GAC0BvD,IAD1B,CAC/BuD,SAD+B;AAAA,sBAC0BvD,IAD1B,CACpBwD,IADoB;AAAA,SACpBA,IADoB,8BACb,EADa;AAAA,uBAC0BxD,IAD1B,CACTyD,KADS;AAAA,SACTA,KADS,+BACD,EADC;AAAA,+BAC0BzD,IAD1B,CACGC,aADH;AAAA,SACGA,aADH,uCACmB,EADnB;;;AAGvC,YAAO,4BACH;AACIyD,iBAAQF,KAAKG,UAAL,GAAkBH,KAAKG,UAAL,CAAgBC,aAAlC,GAAkDP,SAD9D;AAEIQ,wBAAeN,SAFnB;AAGIO,mBAAUN,KAAKM,QAHnB;AAIIC,kBAAS9D,cAAc8D,OAJ3B;AAKIC,qBAAYP,MAAMQ,WALtB;AAMIC,mBAAUT,MAAMU,EANpB;AAOIC,qBAAYC,SAASC,KAPzB;AAQIC,4BAAmBtE,cAAckE,EARrC;AASIK,uBAAcf,MAAMU,EATxB;AAUIM,qBAAYxE,cAAcJ,MAAd,GAAuBI,cAAcJ,MAAd,CAAqB6E,WAA5C,GAA0DrB;AAV1E,MADG,EAaH,mCAAoBrD,IAApB,CAbG,EAcH,6BAAcA,IAAd,CAdG,EAeH,yBAAUA,IAAV,CAfG,EAgBH,oCAAqBA,IAArB,CAhBG,EAiBH,0BAAWA,IAAX,CAjBG,CAAP;AAmBH,E;;;;;;AClCD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,iCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH,mCAAkC;AAClC;AACA;AACA;;AAEA;AACA,GAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAgB,sBAAsB;AACtC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;mBC1EwB2E,Y;;AARxB;;;;AAEA;;;;;;AAMe,UAASA,YAAT,CAAsB3E,IAAtB,EAA4B4E,UAA5B,EAAwC;AAAA;;AACnD,SAAMC,UAAU7E,KAAK4E,UAAL,KAAoB,EAApC;AACA,SAAME,sBAAsB,wBAAYF,UAAZ,CAA5B;;AAEA,6CACQE,mBADR,YACqCD,QAAQE,IAD7C,yBAEQD,mBAFR,eAEwCD,QAAQG,OAFhD,yBAGQF,mBAHR,oBAG6CD,QAAQI,WAHrD,yBAIQH,mBAJR,eAIwCD,QAAQK,OAJhD,yBAKQJ,mBALR,kBAK2CD,QAAQM,SALnD,yBAMQL,mBANR,iBAM0CD,QAAQO,QANlD,yBAOQN,mBAPR,aAOsCD,QAAQQ,KAP9C,yBAQQP,mBARR,kBAQ2CD,QAAQS,YARnD,yBASQR,mBATR,aASsCD,QAAQU,QAT9C,yBAUQT,mBAVR,gBAUyCD,QAAQW,YAVjD,yBAWQV,mBAXR,gBAWyCD,QAAQY,YAXjD,yBAYQX,mBAZR,WAYoCD,QAAQa,QAZ5C;AAcH,E;;;;;;;;;;;mBCrBuBC,a;AALxB;;;;;AAKe,UAASA,aAAT,CAAuB3F,IAAvB,EAA6B;AAAA,0BACFA,IADE,CAChC4F,QADgC;AAAA,SAChCA,QADgC,kCACrB,EADqB;AAAA,uBACF5F,IADE,CACjB6F,KADiB;AAAA,SACjBA,KADiB,+BACT,EADS;;;AAGxC,YAAO;AACHC,gCAAuBC,UAAUC,SAD9B;AAEHC,yBAAgBL,SAASM,KAFtB;AAGHC,8BAAqBP,SAAST,SAH3B;AAIHiB,oCAA2BR,SAASS,cAJjC;AAKHC,6BAAoBV,SAASR,QAL1B;AAMHmB,0BAAiBV,MAAMW,aANpB;AAOHC,wBAAeb,SAASc,IAPrB;AAQHC,yBAAgBf,SAASgB,WARtB;AASHC,6BAAoBjB,SAASM;AAT1B,MAAP;AAWH,E;;;;;;;;;;;mBCduBY,S;AALxB;;;;;AAKe,UAASA,SAAT,CAAmB9G,IAAnB,EAAyB;AAAA,SAC5B+G,MAD4B,GACjB/G,IADiB,CAC5B+G,MAD4B;;;AAGpC,YAAO;AACHC,wBAAe3C,SAAS4C,QADrB;AAEHC,sBAAaH,MAFV;AAGHI,0BAAiBpB,UAAUC;AAHxB,MAAP;AAKH,E;;;;;;;;;;;;;mBCRuBoB,U;AALxB;;;;;AAKe,UAASA,UAAT,CAAoBpH,IAApB,EAA0B;AAAA,uBACdA,IADc,CAC7B6F,KAD6B;AAAA,SAC7BA,KAD6B,+BACrB,EADqB;;;AAGrC,YAAO;AACHwB,qBAAYxB,MAAMyB,SADf;AAEHC,mBAAU1B,MAAM2B;AAFb,MAAP;AAIH,E;;;;;;;;;;;;;ACZD;;;;;;SAGIC,Q;;;;;;;;;;;mBCKoBA,Q;;AARxB;;;;;;AAEA;;;;;;AAMe,UAASA,QAAT,CAAkBC,GAAlB,EAAuB1H,IAAvB,EAA6B;AACxC,SAAM2H,OAAO,0BAAWD,GAAX,EAAgB1H,IAAhB,CAAb;;AAEA2H,UAAKC,MAAL;;AAEA,YAAO,IAAItH,OAAJ,CAAY,mBAAW;AAC1BuH,gBAAOC,gBAAP,CAAwB,cAAxB,EAAwC,SAASC,kBAAT,GAA8B;AAClEF,oBAAOG,mBAAP,CAA2B,cAA3B,EAA2CD,kBAA3C;;AAEAE;AACH,UAJD;AAKH,MANM,CAAP;AAOH,E;;;;;;;;;;;mBCCuBC,U;AArBxB;;;;;;AAMA,UAASC,WAAT,CAAqB9F,KAArB,EAA4Bf,GAA5B,EAAiC;AAC7B,SAAM8G,QAAQ/D,SAASgE,aAAT,CAAuB,OAAvB,CAAd;;AAEAD,WAAME,YAAN,CAAmB,MAAnB,EAA2BhH,GAA3B;AACA8G,WAAME,YAAN,CAAmB,OAAnB,EAA4BjG,KAA5B;;AAEA,YAAO+F,KAAP;AACH;;AAED;;;;;;AAMe,UAASF,UAAT,CAAoBR,GAApB,EAAyB1H,IAAzB,EAA+B;AAC1C,SAAM2H,OAAOtD,SAASgE,aAAT,CAAuB,MAAvB,CAAb;;AAEAV,UAAKW,YAAL,CAAkB,QAAlB,EAA4BZ,GAA5B;AACAC,UAAKW,YAAL,CAAkB,QAAlB,EAA4B,MAA5B;AACAX,UAAKW,YAAL,CAAkB,QAAlB,EAA4B,MAA5B;;AAEAlH,YAAOD,IAAP,CAAYnB,IAAZ,EAAkBmD,OAAlB,CAA0B,eAAO;AAC7B,aAAMd,QAAQrC,KAAKsB,GAAL,CAAd;;AAEAqG,cAAKY,WAAL,CAAiBJ,YAAY9F,KAAZ,EAAmBf,GAAnB,CAAjB;AACH,MAJD;;AAMA,YAAOqG,IAAP;AACH,E;;;;;;;;;;;;;mBCxBuBa,sB;;AAXxB;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;;;;;AAKe,UAASA,sBAAT,CAAgCC,kBAAhC,EAAoD;AAAA,SACvDlF,SADuD,GACNkF,kBADM,CACvDlF,SADuD;AAAA,SAC5CC,IAD4C,GACNiF,kBADM,CAC5CjF,IAD4C;AAAA,SACtCC,KADsC,GACNgF,kBADM,CACtChF,KADsC;AAAA,SAC/BxD,aAD+B,GACNwI,kBADM,CAC/BxI,aAD+B;AAAA,SAChB4F,KADgB,GACN4C,kBADM,CAChB5C,KADgB;;;AAG/D,YAAO;AACHtC,oBAAW,kCAAiBA,SAAjB,CADR;AAEHC,eAAM,4BAAaA,IAAb,CAFH;AAGHC,gBAAO,6BAAcA,KAAd,CAHJ;AAIHxD,wBAAe,qCAAsBA,aAAtB,CAJZ;AAKH4F,gBAAO,6BAAcA,KAAd;AALJ,MAAP;AAOH,E;;;;;;;;;;;mBCduB6C,Y;;AAPxB;;AAEA;;;;;AAKe,UAASA,YAAT,CAAsBC,QAAtB,EAAgC;AAC3C,YAAO,0BAASA,QAAT,EAAmB;AACtB7E,mBAAU,CAAC,UAAD,CADY;AAEtBH,qBAAY;AACRC,4BAAe,CAAC,UAAD;AADP;AAFU,MAAnB,CAAP;AAMH,E;;;;;;;;;;;mBCPuBgF,qB;;AAPxB;;AAEA;;;;;AAKe,UAASA,qBAAT,CAA+B3I,aAA/B,EAA8C;AACzD,YAAO,0BAASA,aAAT,EAAwB;AAC3BJ,iBAAQ;AACJ6E,0BAAa,CAAC,UAAD;AADT,UADmB;AAI3BX,kBAAS,CAAC,UAAD,CAJkB;AAK3BI,aAAI,CAAC,UAAD;AALuB,MAAxB,CAAP;AAOH,E;;;;;;;;;;;mBCRuB0E,a;;AAPxB;;AAEA;;;;;AAKe,UAASA,aAAT,CAAuBC,SAAvB,EAAkC;AAC7C,YAAO,0BAASA,SAAT,EAAoB;AACvB7E,sBAAa,CAAC,UAAD,CADU;AAEvB8E,kBAAS,CAAC,UAAD;AAFc,MAApB,CAAP;AAIH,E;;;;;;;;;;;mBCLuBF,a;;AAPxB;;AAEA;;;;;AAKe,UAASA,aAAT,CAAuBG,SAAvB,EAAkC;AAC7C,YAAO,0BAASA,SAAT,EAAoB;AACvB1B,oBAAW,CAAC,UAAD,CADY;AAEvBE,kBAAS,CAAC,UAAD;AAFc,MAApB,CAAP;AAIH,E;;;;;;;;;;;mBCCuB7G,a;;AAbxB;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;;;;AAOe,UAASA,aAAT,CAAuBX,IAAvB,EAA4C;AAAA,sEAAJ,EAAI;;AAAA,SAAbD,IAAa,QAAbA,IAAa;;AACvD,SAAMc,aAAa,wCAAuBb,IAAvB,CAAnB;;AAEA,SAAI,CAAC,yBAAQa,UAAR,CAAL,EAA0B;AACtB,gBAAOP,QAAQC,MAAR,CAAe,IAAIF,KAAJ,CAAU,EAAEQ,sBAAF,EAAV,CAAf,CAAP;AACH;;AAED,SAAMC,UAAU,2BAAad,IAAb,CAAhB;AACA,SAAMiJ,iBAAiB;AACnBC,kBAAS,2BAAalJ,IAAb;AADU,MAAvB;;AAIA,YAAO,8BAAY,yBAAcD,IAAd,CAAZ,EAAiCe,OAAjC,EAA0CmI,cAA1C,CAAP;AACH,E;;;;;;;;;;;;;AC1BD;;;;AACA;;;;;;SAGIE,W;SACAC,W;;;;;;;;;;;mBCMoBD,W;;AAXxB;;;;AACA;;AACA;;;;;;AAEA;;;;;;;AAOe,UAASA,WAAT,CAAqBzB,GAArB,EAA0B1H,IAA1B,EAAgCqJ,OAAhC,EAAyC;AACpD,SAAMC,gBAAgB,4BAAa,EAAb,EAAiBD,OAAjB,EAA0B;AAC5CE,iBAAQ,wBAAaC;AADuB,MAA1B,CAAtB;;AAIA,YAAO,2BAAY9B,GAAZ,EAAiB1H,IAAjB,EAAuBsJ,aAAvB,CAAP;AACH,E;;;;;;;;;;;;;ACjBD;;KAAYG,a;;AACZ;;KAAYC,Y;;AACZ;;;;;;;;SAGID,a,GAAAA,a;SACAE,e;SACAD,Y,GAAAA,Y;;;;;;;;;;;ACPG,KAAME,8CAAmB,kBAAzB,C;;;;;;;;;;;ACAA,KAAMC,oBAAM,KAAZ;AACA,KAAML,sBAAO,MAAb,C;;;;;;;;;;;;ACDP;;AACA;;AAEA,KAAMG,kBAAkB;AACpBT,cAAS;AACLY,+CADK;AAEL;AAFK,MADW;AAKpBP;AALoB,EAAxB;;mBAQeI,e;;;;;;;;;;;mBCyDSP,W;;AApExB;;;;AACA;;AACA;;AACA;;;;;;AAEA;;;;;;;AAOA,UAASW,cAAT,CAAwB/J,IAAxB,EAA4E;AAAA,SAA9CgK,WAA8C,yDAAhC,yBAAcJ,gBAAkB;;AACxE,SAAI5J,QAAQ,qBAASgK,WAAT,EAAsB,yBAAcJ,gBAApC,CAAZ,EAAmE;AAC/D,gBAAOK,KAAKC,SAAL,CAAelK,IAAf,CAAP;AACH;;AAED,YAAOA,IAAP;AACH;;AAED;;;;;;AAMA,UAASmK,gBAAT,CAA0BC,GAA1B,EAA+B;AAC3B,SAAMC,WAAWC,YAAYF,GAAZ,CAAjB;;AAEA,YAAO,IAAI/J,KAAJ,CAAUgK,QAAV,CAAP;AACH;;AAED;;;;;;AAMA,UAASC,WAAT,CAAqBF,GAArB,EAA0B;AACtB,SAAMJ,cAAcI,IAAIG,iBAAJ,CAAsB,cAAtB,CAApB;AADsB,SAEdC,MAFc,GAESJ,GAFT,CAEdI,MAFc;AAAA,SAENC,UAFM,GAESL,GAFT,CAENK,UAFM;;;AAItB,SAAIzK,OAAO,cAAcoK,GAAd,GAAoBA,IAAIC,QAAxB,GAAmCD,IAAIM,YAAlD;;AAEA,SAAI1K,QAAQ,qBAASgK,WAAT,EAAsB,yBAAcJ,gBAApC,CAAZ,EAAmE;AAC/D5J,gBAAOiK,KAAKU,KAAL,CAAW3K,IAAX,CAAP;AACH;;AAED,YAAO,EAAEA,UAAF,EAAQwK,cAAR,EAAgBC,sBAAhB,EAAP;AACH;;AAED;;;;;;AAMA,UAASG,mBAAT,CAA6BR,GAA7B,EAAkC;AAC9B,YAAOA,IAAII,MAAJ,IAAc,GAAd,IAAqBJ,IAAII,MAAJ,GAAa,GAAzC;AACH;;AAED;;;;;;;AAOe,UAASpB,WAAT,CAAqB1B,GAArB,EAA0B1H,IAA1B,EAAgCqJ,OAAhC,EAAyC;AACpD,SAAMC,gBAAgB,4BAAa,EAAb,8BAAkCD,OAAlC,CAAtB;;AAEA,YAAO,IAAI/I,OAAJ,CAAY,UAAC2H,OAAD,EAAU1H,MAAV,EAAqB;AACpC,kBAASsK,OAAT,CAAiBT,GAAjB,EAAsB;AAClB7J,oBAAO4J,iBAAiBC,GAAjB,CAAP;AACH;;AAED,kBAASU,MAAT,CAAgBV,GAAhB,EAAqB;AACjB,iBAAIQ,oBAAoBR,GAApB,CAAJ,EAA8B;AAC1BnC,yBAAQqC,YAAYF,GAAZ,CAAR;AACH,cAFD,MAEO;AACH7J,wBAAO4J,iBAAiBC,GAAjB,CAAP;AACH;AACJ;;AAED,aAAMA,MAAM,6BAAc1C,GAAd,EAAmB4B,aAAnB,EAAkC,EAAEuB,gBAAF,EAAWC,cAAX,EAAlC,CAAZ;AACA,aAAMhK,UAAUiJ,eAAe/J,IAAf,EAAqBsJ,cAAcJ,OAAd,CAAsB,cAAtB,CAArB,CAAhB;;AAEAkB,aAAIW,IAAJ,CAASjK,OAAT;AACH,MAjBM,CAAP;AAkBH,E;;;;;;;;;;;mBChDuBkK,a;AAzCxB;;;;;;;AAOA,UAASC,UAAT,CAAoBb,GAApB,EAAyBlB,OAAzB,EAAkC;AAC9B,SAAMgC,aAAa9J,OAAOD,IAAP,CAAY+H,OAAZ,CAAnB;;AAEAgC,gBAAW/H,OAAX,CAAmB,eAAO;AACtB,aAAMd,QAAQ6G,QAAQ5H,GAAR,CAAd;;AAEA8I,aAAIe,gBAAJ,CAAqB7J,GAArB,EAA0Be,KAA1B;AACH,MAJD;AAKH;;AAED;;;;;;;AAOA,UAAS+I,UAAT,CAAoBhB,GAApB,EAAyBf,OAAzB,EAAkC;AAC9Be,SAAIiB,eAAJ,GAAsBhC,QAAQgC,eAA9B;;AAEA,SAAIhC,QAAQH,OAAZ,EAAqB;AACjB+B,oBAAWb,GAAX,EAAgBf,QAAQH,OAAxB;AACH;AACJ;;AAED;;;;;;;;;AASe,UAAS8B,aAAT,CAAuBtD,GAAvB,EAA4B2B,OAA5B,EAA+D;AAAA,sEAAJ,EAAI;;AAAA,SAAxByB,MAAwB,QAAxBA,MAAwB;AAAA,SAAhBD,OAAgB,QAAhBA,OAAgB;;AAC1E,SAAMT,MAAM,IAAIkB,cAAJ,EAAZ;;AAEA,SAAIT,OAAJ,EAAa;AACTT,aAAIS,OAAJ,GAAc;AAAA,oBAAMA,QAAQT,GAAR,CAAN;AAAA,UAAd;AACH;;AAED,SAAIU,MAAJ,EAAY;AACRV,aAAIU,MAAJ,GAAa;AAAA,oBAAMA,OAAOV,GAAP,CAAN;AAAA,UAAb;AACH;;AAEDA,SAAImB,IAAJ,CAASlC,QAAQE,MAAjB,EAAyB7B,GAAzB,EAA8B,IAA9B;AACA0D,gBAAWhB,GAAX,EAAgBf,OAAhB;;AAEA,YAAOe,GAAP;AACH,E;;;;;;;;;;;;;ACxDD;;;;AACA;;;;;;SAGIoB,Y;SACAlI,Y;;;;;;;;;;;mBCAoBkI,Y;AALxB;;;;;AAKe,UAASA,YAAT,CAAsBxL,IAAtB,EAA4B;AAAA,SAC/BuD,SAD+B,GACjBvD,IADiB,CAC/BuD,SAD+B;;;AAGvC,YAAO;AACHkI,wBAAelI;AADZ,MAAP;AAGH,E;;;;;;;;;;;mBCDuBD,Y;;AAVxB;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;;;;;AAKe,UAASA,YAAT,CAAsBtD,IAAtB,EAA4B;AAAA,uBAChBA,IADgB,CAC/ByD,KAD+B;AAAA,SAC/BA,KAD+B,+BACvB,EADuB;;;AAGvC,YAAO;AACHmC,mBAAU,6BAAc5F,IAAd,CADP;AAEHgE,qBAAYP,MAAMQ,WAFf;AAGHR,gBAAO,0BAAWzD,IAAX,CAHJ;AAIH0L,kBAAS,4BAAa1L,IAAb,CAJN;AAKH6F,gBAAO,0BAAW7F,IAAX;AALJ,MAAP;AAOH,E;;;;;;;;;;;mBCfuB2F,a;AALxB;;;;;AAKe,UAASA,aAAT,CAAuB3F,IAAvB,EAA6B;AAAA,0BACdA,IADc,CAChC4F,QADgC;AAAA,SAChCA,QADgC,kCACrB,EADqB;;;AAGxC,YAAO;AACH+F,8BAAqB/F,SAASS,cAD3B;AAEHlC,aAAIyB,SAASgG,UAFV;AAGHC,wBAAejG,SAASkG;AAHrB,MAAP;AAKH,E;;;;;;;;;;;mBCHuBC,U;;AAVxB;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;;;;;AAKe,UAASA,UAAT,CAAoB/L,IAApB,EAA0B;AAAA,SAC7BwD,IAD6B,GACbxD,IADa,CAC7BwD,IAD6B;AAAA,SACvBC,KADuB,GACbzD,IADa,CACvByD,KADuB;;;AAGrC,YAAO;AACHuI,0BAAiB,mCAAoBhM,IAApB,CADd;AAEH8D,mBAAUN,KAAKM,QAFZ;AAGHK,aAAIV,MAAMsF,OAHP;AAIH/G,gBAAO,0BAAWhC,IAAX,CAJJ;AAKHiM,2BAAkB,oCAAqBjM,IAArB,CALf;AAMHkM,gBAAOzI,MAAMyI,KANV;AAOHC,iBAAQ,gCAAiBnM,IAAjB;AAPL,MAAP;AASH,E;;;;;;;;;;;;;mBChBuB2E,Y;AANxB;;;;;;AAMe,UAASA,YAAT,CAAsB3E,IAAtB,EAA4B4E,UAA5B,EAAwC;AACnD,SAAMC,UAAU7E,KAAK4E,UAAL,KAAoB,EAApC;;AAEA,YAAO;AACHG,eAAMF,QAAQE,IADX;AAEHC,kBAASH,QAAQG,OAFd;AAGHoH,uBAAcvH,QAAQI,WAHnB;AAIHC,kBAASL,QAAQK,OAJd;AAKHmH,qBAAYxH,QAAQM,SALjB;AAMHmH,oBAAWzH,QAAQO,QANhB;AAOHC,gBAAOR,QAAQQ,KAPZ;AAQHkH,qBAAY1H,QAAQS,YARjB;AASHkH,gBAAO3H,QAAQU,QATZ;AAUHkH,mBAAU5H,QAAQW,YAVf;AAWHkH,mBAAU7H,QAAQY,YAXf;AAYHkH,cAAK9H,QAAQa;AAZV,MAAP;AAcH,E;;;;;;;;;;;mBClBuBkH,U;AALxB;;;;;AAKe,UAASA,UAAT,CAAoB5M,IAApB,EAA0B;AAAA,sBACJA,IADI,CAC7BwD,IAD6B;AAAA,SAC7BA,IAD6B,8BACtB,EAAExB,OAAO,EAAT,EADsB;;;AAGrC,YAAOwB,KAAKxB,KAAL,CAAW6K,GAAX,CAAe;AAAA,gBAAa;AAC/BC,mBAAMC,SAAS5I,EADgB;AAE/BuC,mBAAMqG,SAASrG,IAFgB;AAG/BsG,oBAAOD,SAASrJ,MAHe;AAI/BuJ,uBAAUF,SAASE,QAJY;AAK/BC,kBAAKH,SAASG;AALiB,UAAb;AAAA,MAAf,CAAP;AAOH,E;;;;;;;;;;;mBCVuBC,gB;AALxB;;;;;AAKe,UAASA,gBAAT,CAA0BnN,IAA1B,EAAgC;AAAA,SACnCwD,IADmC,GAC1BxD,IAD0B,CACnCwD,IADmC;;;AAG3C,YAAO;AACH4J,sBAAa5J,KAAKG,UAAL,GAAkBH,KAAKG,UAAL,CAAgBC,aAAlC,GAAkDP,SAD5D;AAEHgK,mBAAU7J,KAAK6J,QAAL,GAAgB7J,KAAK6J,QAAL,CAAc3J,MAA9B,GAAuCL,SAF9C;AAGHiK,mBAAU9J,KAAK8J,QAAL,GAAgB9J,KAAK8J,QAAL,CAAc5J,MAA9B,GAAuCL,SAH9C;AAIHkK,mBAAU/J,KAAKgK,QAAL,GAAgBhK,KAAKgK,QAAL,CAAc9J,MAA9B,GAAuCL,SAJ9C;AAKHoK,cAAKjK,KAAKkK,QAAL,GAAgBlK,KAAKkK,QAAL,CAAchK,MAA9B,GAAuCL;AALzC,MAAP;AAOH,E;;;;;;;;;;;;;mBCRuBsK,Y;;AAPxB;;;;;;AAEA;;;;;AAKe,UAASA,YAAT,CAAsB3N,IAAtB,EAA4B;AAAA,uBACkBA,IADlB,CAC/ByD,KAD+B;AAAA,SAC/BA,KAD+B,+BACvB,EADuB;AAAA,yBACkBzD,IADlB,CACnB0L,OADmB;AAAA,SACnBA,OADmB,iCACT,EADS;AAAA,+BACkB1L,IADlB,CACLC,aADK;AAAA,SACLA,aADK,uCACW,EADX;;;AAGvC,YAAO;AACH2N,4BAAmB;AACf1B,oBAAOR,QAAQmC;AADA,UADhB;AAIHC,sBAAa,+BAAgB9N,IAAhB,CAJV;AAKH+N,sBAAarC,QAAQsC,UALlB;AAMHjK,kBAAS9D,cAAckE,EANpB;AAOHH,qBAAYP,MAAMQ;AAPf,MAAP;AASH,E;;;;;;;;;;;mBCduBgK,e;AALxB;;;;;AAKe,UAASA,eAAT,CAAyBjO,IAAzB,EAA+B;AAAA,yBACjBA,IADiB,CAClC0L,OADkC;AAAA,SAClCA,OADkC,iCACxB,EADwB;;;AAG1C,YAAO;AACHwC,uBAAcxC,QAAQyC,MADnB;AAEHC,iBAAQ1C,QAAQ2C,QAFb;AAGHC,gBAAO5C,QAAQ6C,QAAR,GAAmB7C,QAAQ6C,QAAR,CAAiBD,KAApC,GAA4CjL,SAHhD;AAIHmL,6BAAoB9C,QAAQ+C,KAJzB;AAKHC,eAAMhD,QAAQ6C,QAAR,GAAmB7C,QAAQ6C,QAAR,CAAiBG,IAApC,GAA2CrL;AAL9C,MAAP;AAOH,E;;;;;;;;;;;mBCVuB+D,U;AALxB;;;;;AAKe,UAASA,UAAT,CAAoBpH,IAApB,EAA0B;AAAA,uBACdA,IADc,CAC7B6F,KAD6B;AAAA,SAC7BA,KAD6B,+BACrB,EADqB;;;AAGrC,YAAO;AACH8I,eAAM9I,MAAMyB,SADT;AAEHnD,aAAI0B,MAAM2B,OAFP;AAGHd,eAAMb,MAAM+I;AAHT,MAAP;AAKH,E;;;;;;;;;;;;;mBCFuBpG,sB;;AAXxB;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;;;;;AAKe,UAASA,sBAAT,CAAgCC,kBAAhC,EAAoD;AAAA,SACvDlF,SADuD,GACZkF,kBADY,CACvDlF,SADuD;AAAA,SAC5CC,IAD4C,GACZiF,kBADY,CAC5CjF,IAD4C;AAAA,SACtCC,KADsC,GACZgF,kBADY,CACtChF,KADsC;AAAA,SAC/BiI,OAD+B,GACZjD,kBADY,CAC/BiD,OAD+B;AAAA,SACtB7F,KADsB,GACZ4C,kBADY,CACtB5C,KADsB;;;AAG/D,YAAO;AACHtC,oBAAW,kCAAiBA,SAAjB,CADR;AAEHC,eAAM,4BAAaA,IAAb,CAFH;AAGHC,gBAAO,6BAAcA,KAAd,CAHJ;AAIHiI,kBAAS,+BAAgBA,OAAhB,CAJN;AAKH7F,gBAAO,6BAAcA,KAAd;AALJ,MAAP;AAOH,E;;;;;;;;;;;;;mBCduBgD,a;;AAPxB;;AAEA;;;;;AAKe,UAASA,aAAT,CAAuBC,SAAvB,EAAkC;AAC7C,YAAO,0BAASA,SAAT,EAAoB;AACvBC,kBAAS,CAAC,UAAD;AADc,MAApB,CAAP;AAGH,E;;;;;;;;;;;mBCHuB8F,e;;AARxB;;;;AACA;;;;AAEA;;;;;AAKe,UAASA,eAAT,CAAyBC,WAAzB,EAAsC;AACjD,SAAMC,kBAAkB,0BAASD,WAAT,EAAsB;AAC1CjB,gBAAO,CAAC,UAAD;AADmC,MAAtB,CAAxB;;AAIA,SAAMmB,uBAAuB,0BAASF,WAAT,EAAsB;AAC/CX,iBAAQ,CAAC,UAAD,CADuC;AAE/CE,mBAAU,CAAC,UAAD,CAFqC;AAG/CE,mBAAU;AACND,oBAAO,CAAC,UAAD,CADD;AAENI,mBAAM,CAAC,UAAD;AAFA;AAHqC,MAAtB,CAA7B;;AASA,SAAI,yBAAQK,eAAR,CAAJ,EAA8B;AAC1B,gBAAOA,eAAP;AACH;;AAED,SAAI,yBAAQC,oBAAR,CAAJ,EAAmC;AAC/B,gBAAOD,eAAP;AACH;;AAED,YAAO,4BAAa,EAAb,EAAiBA,eAAjB,EAAkCC,oBAAlC,CAAP;AACH,E;;;;;;;;;;;mBCxBuBnG,a;;AAPxB;;AAEA;;;;;AAKe,UAASA,aAAT,CAAuBG,SAAvB,EAAkC;AAC7C,YAAO,0BAASA,SAAT,EAAoB;AACvBxB,kBAAS,CAAC,UAAD;AADc,MAApB,CAAP;AAGH,E;;;;;;;;;;;mBCJuByH,mB;;AAPxB;;;;;;AAEA;;;;;AAKe,UAASA,mBAAT,CAA6BjP,IAA7B,EAAmC;AAC9C,UAAO,4BAAaA,IAAb,EAAmB,gBAAnB,CAAP;AACH,E;;;;;;;;;;;mBCFuBkP,oB;;AAPxB;;;;;;AAEA;;;;;AAKe,UAASA,oBAAT,CAA8BlP,IAA9B,EAAoC;AAC/C,UAAO,4BAAaA,IAAb,EAAmB,iBAAnB,CAAP;AACH,E;;;;;;;;;;;;;ACTD;;;;;;SAGIwI,sB","file":"bigpay-client.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"bigpayClient\"] = factory();\n\telse\n\t\troot[\"bigpayClient\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap cc4330adadd0445ff9d9\n **/","import { createClient } from './client';\n\nexport {\n    createClient,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import createClient from './create-client';\n\nexport {\n    createClient,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/client/index.js\n **/","import Client from './client';\n\n/**\n * Create client\n * @param {Object} config\n * @returns {Client}\n */\nexport default function createClient(config) {\n    return new Client(config);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/client/create-client.js\n **/","import { PAYMENT_TYPES, initializeOffsitePayment, submitPayment } from '../payment';\n\nexport default class Client {\n    /**\n     * Construct BigpayClient\n     * @param {Object} config\n     * @param {string} config.host\n     */\n    constructor({ host }) {\n        this.host = host;\n    }\n\n    /**\n     * Initialize offsite payment\n     * @param {PaymentRequestData} data\n     * @returns {Promise}\n     */\n    initializeOffsitePayment(data) {\n        const { paymentMethod = {} } = data;\n\n        if (paymentMethod.type !== PAYMENT_TYPES.HOSTED) {\n            const error = new Error(`${data.type} is not supported.`);\n\n            return Promise.reject(error);\n        }\n\n        return initializeOffsitePayment(data, { host: this.host });\n    }\n\n    /**\n     * Submit payment\n     * @param {PaymentRequestData} data\n     * @returns {Promise}\n     */\n    submitPayment(data) {\n        const { paymentMethod = {} } = data;\n\n        if (paymentMethod.type !== PAYMENT_TYPES.API) {\n            const error = new Error(`${data.type} is not supported.`);\n\n            return Promise.reject(error);\n        }\n\n        return submitPayment(data, { host: this.host });\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/client/client.js\n **/","import * as PAYMENT_TYPES from './payment-types';\nimport initializeOffsitePayment from './initialize-offsite-payment';\nimport submitPayment from './submit-payment';\n\nexport {\n    PAYMENT_TYPES,\n    initializeOffsitePayment,\n    submitPayment,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/index.js\n **/","export const API = 'PAYMENT_TYPE_API';\nexport const HOSTED = 'PAYMENT_TYPE_HOSTED';\nexport const OFFLINE = 'PAYMENT_TYPE_OFFLINE';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/payment-types.js\n **/","import { getOffsitePaymentUrl } from './urls';\nimport { isValid } from '../common/validation';\nimport { mapToPayload } from './offsite-mappers';\nimport { postForm } from '../common/form-request';\nimport { validatePaymentRequest } from './offsite-validators';\n\n/**\n * Initialize offsite payment\n * @param {PaymentRequestData} data\n * @param {Object} [options = {}]\n * @param {string} [options.host]\n * @returns {Promise}\n */\nexport default function initializeOffsitePayment(data, { host } = {}) {\n    const validation = validatePaymentRequest(data);\n\n    if (!isValid(validation)) {\n        return Promise.reject(new Error({ validation }));\n    }\n\n    const payload = mapToPayload(data);\n\n    return postForm(getOffsitePaymentUrl(host), payload);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/initialize-offsite-payment.js\n **/","/**\n * Get offsite payment URL\n * @param {string} host\n * @returns {string}\n */\nexport function getOffsitePaymentUrl(host) {\n    return `${host}/pay/initialize`;\n}\n\n/**\n * Payment URL\n * @param {string} host\n * @returns {string}\n */\nexport function getPaymentUrl(host) {\n    return `${host}/api/public/v1/payments/payment`;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/urls.js\n **/","import isValid from './is-valid';\nimport validate from './validate';\n\nexport {\n    isValid,\n    validate,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/validation/index.js\n **/","import { isObject } from '../utils';\n\n/**\n * Is valid result\n * @param {Object} validation\n * @returns {Boolean}\n */\nexport default function isValid(validation) {\n    const keys = Object.keys(validation);\n\n    while (keys.length > 0) {\n        const key = keys.shift();\n\n        if (validation[key] === false) {\n            return false;\n        }\n\n        if (isObject(validation[key]) && !isValid(validation[key])) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/validation/is-valid.js\n **/","import capitalize from './capitalize';\nimport includes from './includes';\nimport isObject from './is-object';\nimport toSnakeCase from './to-snake-case';\n\nexport {\n    capitalize,\n    includes,\n    isObject,\n    toSnakeCase,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/index.js\n **/","/**\n * Capitalize\n * @param {string} string\n * @returns {string}\n */\nexport default function capitalize(string) {\n    if (!string) {\n        return string;\n    }\n\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/capitalize.js\n **/","/**\n * Includes item\n * @param {array|string} items\n * @param {array|string} item\n * @returns {boolean}\n */\nexport default function includes(items, item) {\n    if (!Array.isArray(items) && typeof items !== 'string') {\n        return false;\n    }\n\n    return items.indexOf(item) !== -1;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/includes.js\n **/","/**\n * Is object\n * @param {*} value\n * @returns {boolean}\n */\nexport default function isObject(value) {\n    const type = typeof value;\n\n    return value !== null && (type === 'object' || type === 'function');\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/is-object.js\n **/","/**\n * To snake case\n * @param {string} string\n * @returns {string}\n */\nexport default function toSnakeCase(string) {\n    if (!string) {\n        return string;\n    }\n\n    return string.replace(/([a-z\\d])([A-Z]+)/g, '$1_$2')\n        .replace(/[-\\s]+/g, '_')\n        .toLowerCase();\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/to-snake-case.js\n **/","import { capitalize } from '../utils';\nimport * as validators from './validators';\n\n/**\n * Get validator\n * @private\n * @param {string} validatorName\n * @returns {Function|void}\n */\nfunction getValidator(validatorName) {\n    const validateFunctionName = `validate${capitalize(validatorName)}`;\n\n    return validators[validateFunctionName];\n}\n\n/**\n * Validate field\n * @private\n * @param {*} fieldData\n * @param {string[]} fieldRules\n * @returns {Object}\n */\nfunction validateField(fieldData, fieldRules) {\n    return fieldRules.reduce((result, validatorName) => {\n        const validator = getValidator(validatorName);\n\n        if (validator) {\n            result[validatorName] = validator(fieldData);\n        }\n\n        return result;\n    }, {});\n}\n\n/**\n * Validate\n * @param {Object} data\n * @param {Object|string[]} rules\n * @returns {Object}\n */\nexport default function validate(data, rules) {\n    const result = {};\n\n    Object.keys(rules).forEach(key => {\n        const fieldData = data[key];\n        const fieldRules = rules[key];\n\n        if (Array.isArray(fieldRules)) {\n            result[key] = validateField(fieldData, fieldRules);\n        } else {\n            result[key] = validate(fieldData, fieldRules);\n        }\n    });\n\n    return result;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/validation/validate.js\n **/","import validateRequired from './validate-required';\n\nexport {\n    validateRequired,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/validation/validators/index.js\n **/","/**\n * Is required value valid\n * @param {*} value\n * @returns {boolean}\n */\nexport default function validateRequired(value) {\n    return value !== undefined &&\n           value !== null &&\n           value !== '';\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/validation/validators/validate-required.js\n **/","import mapToPayload from './map-to-payload';\n\nexport {\n    mapToPayload,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/index.js\n **/","import objectAssign from 'object-assign';\nimport mapToBillingAddress from './map-to-billing-address';\nimport mapToCustomer from './map-to-customer';\nimport mapToMeta from './map-to-meta';\nimport mapToShippingAddress from './map-to-shipping-address';\nimport mapToStore from './map-to-store';\n\n/**\n * Map to payload\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToPayload(data) {\n    const { authToken, cart = {}, order = {}, paymentMethod = {} } = data;\n\n    return objectAssign(\n        {\n            amount: cart.grandTotal ? cart.grandTotal.integerAmount : undefined,\n            bc_auth_token: authToken,\n            currency: cart.currency,\n            gateway: paymentMethod.gateway,\n            notify_url: order.callbackUrl,\n            order_id: order.id,\n            page_title: document.title,\n            payment_method_id: paymentMethod.id,\n            reference_id: order.id,\n            return_url: paymentMethod.config ? paymentMethod.config.redirectUrl : undefined,\n        },\n        mapToBillingAddress(data),\n        mapToCustomer(data),\n        mapToMeta(data),\n        mapToShippingAddress(data),\n        mapToStore(data)\n    );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/map-to-payload.js\n **/","'use strict';\n/* eslint-disable no-unused-vars */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (e) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/object-assign/index.js\n ** module id = 20\n ** module chunks = 0 1\n **/","import { toSnakeCase } from '../../common/utils';\n\n/**\n * Map to address\n * @param {PaymentRequestData} data\n * @param {string} addressKey\n * @returns {Object}\n */\nexport default function mapToAddress(data, addressKey) {\n    const address = data[addressKey] || {};\n    const formattedAddressKey = toSnakeCase(addressKey);\n\n    return {\n        [`${formattedAddressKey}_city`]: address.city,\n        [`${formattedAddressKey}_company`]: address.company,\n        [`${formattedAddressKey}_country_code`]: address.countryCode,\n        [`${formattedAddressKey}_country`]: address.country,\n        [`${formattedAddressKey}_first_name`]: address.firstName,\n        [`${formattedAddressKey}_last_name`]: address.lastName,\n        [`${formattedAddressKey}_phone`]: address.phone,\n        [`${formattedAddressKey}_state_code`]: address.provinceCode,\n        [`${formattedAddressKey}_state`]: address.province,\n        [`${formattedAddressKey}_street_1`]: address.addressLine1,\n        [`${formattedAddressKey}_street_2`]: address.addressLine2,\n        [`${formattedAddressKey}_zip`]: address.postCode,\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/map-to-address.js\n **/","/**\n * Map to customer\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToCustomer(data) {\n    const { customer = {}, store = {} } = data;\n\n    return {\n        customer_browser_info: navigator.userAgent,\n        customer_email: customer.email,\n        customer_first_name: customer.firstName,\n        customer_geo_country_code: customer.geoCountryCode,\n        customer_last_name: customer.lastName,\n        customer_locale: store.storeLanguage,\n        customer_name: customer.name,\n        customer_phone: customer.phoneNumber,\n        customer_reference: customer.email,\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/map-to-customer.js\n **/","/**\n * Map to meta\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToMeta(data) {\n    const { source } = data;\n\n    return {\n        meta_referrer: document.referrer,\n        meta_source: source,\n        meta_user_agent: navigator.userAgent,\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/map-to-meta.js\n **/","/**\n * Map to store\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToStore(data) {\n    const { store = {} } = data;\n\n    return {\n        store_hash: store.storeHash,\n        store_id: store.storeId,\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/map-to-store.js\n **/","import postForm from './post-form';\n\nexport {\n    postForm,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/form-request/index.js\n **/","import createForm from './create-form';\n\n/**\n * Post form\n * @param {string} url\n * @param {Object} data\n * @returns {Promise}\n */\nexport default function postForm(url, data) {\n    const form = createForm(url, data);\n\n    form.submit();\n\n    return new Promise(resolve => {\n        window.addEventListener('beforeunload', function handleBeforeUnload() {\n            window.removeEventListener('beforeunload', handleBeforeUnload);\n\n            resolve();\n        });\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/form-request/post-form.js\n **/","/**\n * Create input\n * @param {string} value\n * @param {string} key\n * @returns {HTMLInputElement}\n */\nfunction createInput(value, key) {\n    const input = document.createElement('input');\n\n    input.setAttribute('name', key);\n    input.setAttribute('value', value);\n\n    return input;\n}\n\n/**\n * Create form\n * @param {string} url\n * @param {Object} data\n * @returns {HTMLFormElement}\n */\nexport default function createForm(url, data) {\n    const form = document.createElement('form');\n\n    form.setAttribute('action', url);\n    form.setAttribute('method', 'POST');\n    form.setAttribute('target', '_top');\n\n    Object.keys(data).forEach(key => {\n        const value = data[key];\n\n        form.appendChild(createInput(value, key));\n    });\n\n    return form;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/form-request/create-form.js\n **/","import { validateRequired } from '../../common/validation/validators';\nimport validateCart from './validate-cart';\nimport validatePaymentMethod from './validate-payment-method';\nimport validateOrder from './validate-order';\nimport validateStore from './validate-store';\n\n/**\n * Validate payment request data\n * @param {PaymentRequestData} paymentRequestData\n * @returns {Object}\n */\nexport default function validatePaymentRequest(paymentRequestData) {\n    const { authToken, cart, order, paymentMethod, store } = paymentRequestData;\n\n    return {\n        authToken: validateRequired(authToken),\n        cart: validateCart(cart),\n        order: validateOrder(order),\n        paymentMethod: validatePaymentMethod(paymentMethod),\n        store: validateStore(store),\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-validators/validate-payment-request.js\n **/","import { validate } from '../../common/validation';\n\n/**\n * Validate cart data\n * @param {CartData} cartData\n * @returns {Object}\n */\nexport default function validateCart(cartData) {\n    return validate(cartData, {\n        currency: ['required'],\n        grandTotal: {\n            integerAmount: ['required'],\n        },\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-validators/validate-cart.js\n **/","import { validate } from '../../common/validation';\n\n/**\n * Validate payment method\n * @param {CartData} paymentMethod\n * @returns {Object}\n */\nexport default function validatePaymentMethod(paymentMethod) {\n    return validate(paymentMethod, {\n        config: {\n            redirectUrl: ['required'],\n        },\n        gateway: ['required'],\n        id: ['required'],\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-validators/validate-payment-method.js\n **/","import { validate } from '../../common/validation';\n\n/**\n * Validate order data\n * @param {OrderData} orderData\n * @returns {Object}\n */\nexport default function validateOrder(orderData) {\n    return validate(orderData, {\n        callbackUrl: ['required'],\n        orderId: ['required'],\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-validators/validate-order.js\n **/","import { validate } from '../../common/validation';\n\n/**\n * Validate store data\n * @param {StoreData} storeData\n * @returns {Object}\n */\nexport default function validateOrder(storeData) {\n    return validate(storeData, {\n        storeHash: ['required'],\n        storeId: ['required'],\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-validators/validate-store.js\n **/","import { getPaymentUrl } from './urls';\nimport { postRequest } from '../common/http-request';\nimport { isValid } from '../common/validation';\nimport { mapToHeaders, mapToPayload } from './mappers';\nimport { validatePaymentRequest } from './validators';\n\n/**\n * Submit payment\n * @param {PaymentRequestData} data\n * @param {Object} [options = {}]\n * @param {string} [options.host]\n * @returns {Promise}\n */\nexport default function submitPayment(data, { host } = {}) {\n    const validation = validatePaymentRequest(data);\n\n    if (!isValid(validation)) {\n        return Promise.reject(new Error({ validation }));\n    }\n\n    const payload = mapToPayload(data);\n    const requestOptions = {\n        headers: mapToHeaders(data),\n    };\n\n    return postRequest(getPaymentUrl(host), payload, requestOptions);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/submit-payment.js\n **/","import postRequest from './post-request';\nimport sendRequest from './send-request';\n\nexport {\n    postRequest,\n    sendRequest,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/index.js\n **/","import objectAssign from 'object-assign';\nimport { METHOD_TYPES } from './constants';\nimport sendRequest from './send-request';\n\n/**\n * Post request\n * @param {string} url\n * @param {Object} data\n * @param {Object} [options]\n * @returns {Promise}\n */\nexport default function postRequest(url, data, options) {\n    const mergedOptions = objectAssign({}, options, {\n        method: METHOD_TYPES.POST,\n    });\n\n    return sendRequest(url, data, mergedOptions);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/post-request.js\n **/","import * as CONTENT_TYPES from './content-types';\nimport * as METHOD_TYPES from './method-types';\nimport DEFAULT_OPTIONS from './default-options';\n\nexport {\n    CONTENT_TYPES,\n    DEFAULT_OPTIONS,\n    METHOD_TYPES,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/constants/index.js\n **/","export const APPLICATION_JSON = 'application/json';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/constants/content-types.js\n **/","export const GET = 'GET';\nexport const POST = 'POST';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/constants/method-types.js\n **/","import { APPLICATION_JSON } from './content-types';\nimport { GET } from './method-types';\n\nconst DEFAULT_OPTIONS = {\n    headers: {\n        Accept: APPLICATION_JSON,\n        'Content-Type': APPLICATION_JSON,\n    },\n    method: GET,\n};\n\nexport default DEFAULT_OPTIONS;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/constants/default-options.js\n **/","import objectAssign from 'object-assign';\nimport { CONTENT_TYPES, DEFAULT_OPTIONS } from './constants';\nimport { includes } from '../utils';\nimport createRequest from './create-request';\n\n/**\n * Get request body\n * @private\n * @param {Object} data\n * @param {string} [contentType = CONTENT_TYPES.APPLICATION_JSON]\n * @returns {Object}\n */\nfunction getRequestBody(data, contentType = CONTENT_TYPES.APPLICATION_JSON) {\n    if (data && includes(contentType, CONTENT_TYPES.APPLICATION_JSON)) {\n        return JSON.stringify(data);\n    }\n\n    return data;\n}\n\n/**\n * Get error response\n * @private\n * @param {XMLHttpRequest} xhr\n * @returns {Error}\n */\nfunction getErrorResponse(xhr) {\n    const response = getResponse(xhr);\n\n    return new Error(response);\n}\n\n/**\n * Get response\n * @private\n * @param {XMLHttpRequest} xhr\n * @returns {Object}\n */\nfunction getResponse(xhr) {\n    const contentType = xhr.getResponseHeader('Content-Type');\n    const { status, statusText } = xhr;\n\n    let data = 'response' in xhr ? xhr.response : xhr.responseText;\n\n    if (data && includes(contentType, CONTENT_TYPES.APPLICATION_JSON)) {\n        data = JSON.parse(data);\n    }\n\n    return { data, status, statusText };\n}\n\n/**\n * Is request successful\n * @private\n * @param {XMLHttpRequest} xhr\n * @returns {boolean}\n */\nfunction isSuccessfulRequest(xhr) {\n    return xhr.status >= 200 && xhr.status < 300;\n}\n\n/**\n * Send request\n * @param {string} url\n * @param {Object} data\n * @param {Object} [options]\n * @returns {Promise}\n */\nexport default function sendRequest(url, data, options) {\n    const mergedOptions = objectAssign({}, DEFAULT_OPTIONS, options);\n\n    return new Promise((resolve, reject) => {\n        function onerror(xhr) {\n            reject(getErrorResponse(xhr));\n        }\n\n        function onload(xhr) {\n            if (isSuccessfulRequest(xhr)) {\n                resolve(getResponse(xhr));\n            } else {\n                reject(getErrorResponse(xhr));\n            }\n        }\n\n        const xhr = createRequest(url, mergedOptions, { onerror, onload });\n        const payload = getRequestBody(data, mergedOptions.headers['Content-Type']);\n\n        xhr.send(payload);\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/send-request.js\n **/","/**\n * Set XHR headers\n * @private\n * @param {XMLHttpRequest} xhr\n * @param {Object} headers\n * @returns {void}\n */\nfunction setHeaders(xhr, headers) {\n    const headerKeys = Object.keys(headers);\n\n    headerKeys.forEach(key => {\n        const value = headers[key];\n\n        xhr.setRequestHeader(key, value);\n    });\n}\n\n/**\n * Set XHR options\n * @private\n * @param {XMLHttpRequest} xhr\n * @param {Object} options\n * @returns {void}\n */\nfunction setOptions(xhr, options) {\n    xhr.withCredentials = options.withCredentials;\n\n    if (options.headers) {\n        setHeaders(xhr, options.headers);\n    }\n}\n\n/**\n * Create XMLHttpRequest\n * @param {string} url\n * @param {Object} options\n * @param {Object} [callbacks]\n * @param {Function} [callbacks.onload]\n * @param {Function} [callbacks.onerror]\n * @returns {XMLHttpRequest}\n */\nexport default function createRequest(url, options, { onload, onerror } = {}) {\n    const xhr = new XMLHttpRequest();\n\n    if (onerror) {\n        xhr.onerror = () => onerror(xhr);\n    }\n\n    if (onload) {\n        xhr.onload = () => onload(xhr);\n    }\n\n    xhr.open(options.method, url, true);\n    setOptions(xhr, options);\n\n    return xhr;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/create-request.js\n **/","import mapToHeaders from './map-to-headers';\nimport mapToPayload from './map-to-payload';\n\nexport {\n    mapToHeaders,\n    mapToPayload,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/index.js\n **/","/**\n * Map to headers\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToHeaders(data) {\n    const { authToken } = data;\n\n    return {\n        AUTHORIZATION: authToken,\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-headers.js\n **/","import mapToCustomer from './map-to-customer';\nimport mapToOrder from './map-to-order';\nimport mapToPayment from './map-to-payment';\nimport mapToStore from './map-to-store';\n\n/**\n * Map to payload\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToPayload(data) {\n    const { order = {} } = data;\n\n    return {\n        customer: mapToCustomer(data),\n        notify_url: order.callbackUrl,\n        order: mapToOrder(data),\n        payment: mapToPayment(data),\n        store: mapToStore(data),\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-payload.js\n **/","/**\n * Map to customer\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToCustomer(data) {\n    const { customer = {} } = data;\n\n    return {\n        geo_ip_country_code: customer.geoCountryCode,\n        id: customer.customerId,\n        session_token: customer.sessionHash,\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-customer.js\n **/","import mapToBillingAddress from './map-to-billing-address';\nimport mapToItems from './map-to-items';\nimport mapToOrderTotals from './map-to-order-totals';\nimport mapToShippingAddress from './map-to-shipping-address';\n\n/**\n * Map to order\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToOrder(data) {\n    const { cart, order } = data;\n\n    return {\n        billing_address: mapToBillingAddress(data),\n        currency: cart.currency,\n        id: order.orderId,\n        items: mapToItems(data),\n        shipping_address: mapToShippingAddress(data),\n        token: order.token,\n        totals: mapToOrderTotals(data),\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-order.js\n **/","/**\n * Map to address\n * @param {PaymentRequestData} data\n * @param {string} addressKey\n * @returns {Object}\n */\nexport default function mapToAddress(data, addressKey) {\n    const address = data[addressKey] || {};\n\n    return {\n        city: address.city,\n        company: address.company,\n        country_code: address.countryCode,\n        country: address.country,\n        first_name: address.firstName,\n        last_name: address.lastName,\n        phone: address.phone,\n        state_code: address.provinceCode,\n        state: address.province,\n        street_1: address.addressLine1,\n        street_2: address.addressLine2,\n        zip: address.postCode,\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-address.js\n **/","/**\n * Map to items\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToItems(data) {\n    const { cart = { items: [] } } = data;\n\n    return cart.items.map(itemData => ({\n        code: itemData.id,\n        name: itemData.name,\n        price: itemData.amount,\n        quantity: itemData.quantity,\n        sku: itemData.sku,\n    }));\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-items.js\n **/","/**\n * Map to order totals\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToOrderTotals(data) {\n    const { cart } = data;\n\n    return {\n        grand_total: cart.grandTotal ? cart.grandTotal.integerAmount : undefined,\n        handling: cart.handling ? cart.handling.amount : undefined,\n        shipping: cart.shipping ? cart.shipping.amount : undefined,\n        subtotal: cart.subTotal ? cart.subTotal.amount : undefined,\n        tax: cart.taxTotal ? cart.taxTotal.amount : undefined,\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-order-totals.js\n **/","import mapToCreditCard from './map-to-credit-card';\n\n/**\n * Map to payment\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToPayment(data) {\n    const { order = {}, payment = {}, paymentMethod = {} } = data;\n\n    return {\n        credit_card_token: {\n            token: payment.nouce,\n        },\n        credit_card: mapToCreditCard(data),\n        device_info: payment.deviceData,\n        gateway: paymentMethod.id,\n        notify_url: order.callbackUrl,\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-payment.js\n **/","/**\n * Map to credit card\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToCreditCard(data) {\n    const { payment = {} } = data;\n\n    return {\n        account_name: payment.ccName,\n        number: payment.ccNumber,\n        month: payment.ccExpiry ? payment.ccExpiry.month : undefined,\n        verification_value: payment.ccCvv,\n        year: payment.ccExpiry ? payment.ccExpiry.year : undefined,\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-credit-card.js\n **/","/**\n * Map to store\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToStore(data) {\n    const { store = {} } = data;\n\n    return {\n        hash: store.storeHash,\n        id: store.storeId,\n        name: store.storeName,\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-store.js\n **/","import { validateRequired } from '../../common/validation/validators';\nimport validateCart from './validate-cart';\nimport validateOrder from './validate-order';\nimport validatePayment from './validate-payment';\nimport validateStore from './validate-store';\n\n/**\n * Validate payment request data\n * @param {PaymentRequestData} paymentRequestData\n * @returns {Object}\n */\nexport default function validatePaymentRequest(paymentRequestData) {\n    const { authToken, cart, order, payment, store } = paymentRequestData;\n\n    return {\n        authToken: validateRequired(authToken),\n        cart: validateCart(cart),\n        order: validateOrder(order),\n        payment: validatePayment(payment),\n        store: validateStore(store),\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/validators/validate-payment-request.js\n **/","import { validate } from '../../common/validation';\n\n/**\n * Validate order data\n * @param {OrderData} orderData\n * @returns {Object}\n */\nexport default function validateOrder(orderData) {\n    return validate(orderData, {\n        orderId: ['required'],\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/validators/validate-order.js\n **/","import objectAssign from 'object-assign';\nimport { isValid, validate } from '../../common/validation';\n\n/**\n * Validate payment data\n * @param {PaymentData} paymentData\n * @returns {Object}\n */\nexport default function validatePayment(paymentData) {\n    const nouceValidation = validate(paymentData, {\n        nouce: ['required'],\n    });\n\n    const creditCardValidation = validate(paymentData, {\n        ccName: ['required'],\n        ccNumber: ['required'],\n        ccExpiry: {\n            month: ['required'],\n            year: ['required'],\n        },\n    });\n\n    if (isValid(nouceValidation)) {\n        return nouceValidation;\n    }\n\n    if (isValid(creditCardValidation)) {\n        return nouceValidation;\n    }\n\n    return objectAssign({}, nouceValidation, creditCardValidation);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/validators/validate-payment.js\n **/","import { validate } from '../../common/validation';\n\n/**\n * Validate store data\n * @param {StoreData} storeData\n * @returns {Object}\n */\nexport default function validateOrder(storeData) {\n    return validate(storeData, {\n        storeId: ['required'],\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/validators/validate-store.js\n **/","import mapToAddress from './map-to-address';\n\n/**\n * Map to billing address\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToBillingAddress(data) {\n    return mapToAddress(data, 'billingAddress');\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/map-to-billing-address.js\n **/","import mapToAddress from './map-to-address';\n\n/**\n * Map to shipping address\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToShippingAddress(data) {\n    return mapToAddress(data, 'shippingAddress');\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/map-to-shipping-address.js\n **/","import validatePaymentRequest from './validate-payment-request';\n\nexport {\n    validatePaymentRequest,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-validators/index.js\n **/"],"sourceRoot":""}