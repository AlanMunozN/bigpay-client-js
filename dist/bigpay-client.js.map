{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c4904cd195b9f57f877d","webpack:///./src/index.js","webpack:///./src/client/index.js","webpack:///./src/client/create-client.js","webpack:///./src/client/client.js","webpack:///./src/payment/index.js","webpack:///./src/payment/payment-types.js","webpack:///./src/payment/initialize-offsite-payment.js","webpack:///./src/payment/urls.js","webpack:///./src/payment/offsite-mappers/index.js","webpack:///./src/payment/offsite-mappers/map-to-payload.js","webpack:///./~/object-assign/index.js","webpack:///./src/common/utils/index.js","webpack:///./src/common/utils/capitalize.js","webpack:///./src/common/utils/includes.js","webpack:///./src/common/utils/is-empty.js","webpack:///./src/common/utils/is-object.js","webpack:///./src/common/utils/omit-empty.js","webpack:///./src/common/utils/omit-property.js","webpack:///./src/common/utils/to-number.js","webpack:///./src/common/utils/to-snake-case.js","webpack:///./src/common/utils/to-string.js","webpack:///./src/payment/offsite-mappers/map-to-address.js","webpack:///./src/payment/offsite-mappers/map-to-customer.js","webpack:///./src/payment/offsite-mappers/map-to-meta.js","webpack:///./src/payment/offsite-mappers/map-to-store.js","webpack:///./src/common/form-request/index.js","webpack:///./src/common/form-request/post-form.js","webpack:///./src/common/form-request/create-form.js","webpack:///./src/payment/submit-payment.js","webpack:///./src/common/http-request/index.js","webpack:///./src/common/http-request/post-request.js","webpack:///./src/common/http-request/constants/index.js","webpack:///./src/common/http-request/constants/content-types.js","webpack:///./src/common/http-request/constants/method-types.js","webpack:///./src/common/http-request/constants/default-options.js","webpack:///./src/common/http-request/send-request.js","webpack:///./~/deep-assign/index.js","webpack:///./~/deep-assign/~/is-obj/index.js","webpack:///./src/common/http-request/create-request.js","webpack:///./src/payment/mappers/index.js","webpack:///./src/payment/mappers/map-to-headers.js","webpack:///./src/payment/mappers/map-to-payload.js","webpack:///./src/payment/mappers/map-to-customer.js","webpack:///./src/payment/mappers/map-to-order.js","webpack:///./src/payment/mappers/map-to-address.js","webpack:///./src/payment/mappers/map-to-items.js","webpack:///./src/payment/mappers/map-to-order-totals.js","webpack:///./src/payment/mappers/map-to-payment.js","webpack:///./src/payment/mappers/map-to-credit-card.js","webpack:///./src/payment/mappers/map-to-store.js","webpack:///./src/payment/offsite-mappers/map-to-billing-address.js","webpack:///./src/payment/offsite-mappers/map-to-shipping-address.js"],"names":["createClient","config","Client","host","data","paymentMethod","type","HOSTED","error","Error","Promise","reject","API","PAYMENT_TYPES","initializeOffsitePayment","submitPayment","OFFLINE","payload","url","getOffsitePaymentUrl","getPaymentUrl","mapToPayload","authToken","cart","order","amount","grandTotal","integerAmount","bc_auth_token","currency","gateway","notify_url","callbackUrl","order_id","orderId","page_title","document","title","payment_method_id","id","reference_id","return_url","redirectUrl","capitalize","includes","isEmpty","isObject","omitEmpty","omitProperty","toNumber","toSnakeCase","toString","string","charAt","toUpperCase","slice","items","item","Array","isArray","indexOf","value","undefined","Object","keys","length","object","predicateFn","reduce","result","key","parseFloat","replace","toLowerCase","isNaN","mapToAddress","addressKey","address","formattedAddressKey","city","company","countryCode","country","firstName","lastName","phone","provinceCode","province","addressLine1","addressLine2","postCode","mapToCustomer","customer","store","customer_browser_info","navigator","userAgent","customer_email","email","customer_first_name","customer_geo_country_code","geoCountryCode","customer_last_name","customer_locale","storeLanguage","customer_name","name","customer_phone","phoneNumber","customer_reference","mapToMeta","source","meta_referrer","referrer","meta_source","meta_user_agent","mapToStore","store_hash","storeHash","store_id","storeId","postForm","form","submit","window","addEventListener","handleBeforeUnload","removeEventListener","resolve","createForm","createInput","input","createElement","setAttribute","forEach","appendChild","options","headers","postRequest","sendRequest","mergedOptions","method","POST","CONTENT_TYPES","METHOD_TYPES","DEFAULT_OPTIONS","APPLICATION_JSON","GET","Accept","getRequestBody","contentType","JSON","stringify","getErrorResponse","xhr","response","getResponse","getResponseHeader","status","statusText","responseText","parse","isSuccessfulRequest","onerror","onload","send","createRequest","setHeaders","headerKeys","setRequestHeader","setOptions","withCredentials","XMLHttpRequest","open","mapToHeaders","Authorization","payment","geo_ip_country_code","customerId","session_token","sessionHash","mapToOrder","billing_address","shipping_address","token","totals","country_code","first_name","last_name","state_code","state","street_1","street_2","zip","mapToItems","map","code","itemData","price","quantity","sku","mapToOrderTotals","grand_total","handling","shipping","subtotal","subTotal","tax","taxTotal","mapToPayment","device_info","deviceData","nouce","credit_card_token","credit_card","mapToCreditCard","account_name","ccName","month","ccExpiry","number","ccNumber","verification_value","ccCvv","year","hash","storeName","mapToBillingAddress","mapToShippingAddress"],"mappings":"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","file":"bigpay-client.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"bigpayClient\"] = factory();\n\telse\n\t\troot[\"bigpayClient\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c4904cd195b9f57f877d\n **/","import { createClient } from './client';\n\nexport {\n    createClient,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import createClient from './create-client';\n\nexport {\n    createClient,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/client/index.js\n **/","import Client from './client';\n\n/**\n * Create client\n * @param {Object} config\n * @returns {Client}\n */\nexport default function createClient(config) {\n    return new Client(config);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/client/create-client.js\n **/","import { PAYMENT_TYPES, initializeOffsitePayment, submitPayment } from '../payment';\n\nexport default class Client {\n    /**\n     * Construct BigpayClient\n     * @param {Object} config\n     * @param {string} config.host\n     */\n    constructor({ host }) {\n        this.host = host;\n    }\n\n    /**\n     * Initialize offsite payment\n     * @param {PaymentRequestData} data\n     * @returns {Promise}\n     */\n    initializeOffsitePayment(data) {\n        const { paymentMethod = {} } = data;\n\n        if (paymentMethod.type !== PAYMENT_TYPES.HOSTED) {\n            const error = new Error(`${data.type} is not supported.`);\n\n            return Promise.reject(error);\n        }\n\n        return initializeOffsitePayment(data, { host: this.host });\n    }\n\n    /**\n     * Submit payment\n     * @param {PaymentRequestData} data\n     * @returns {Promise}\n     */\n    submitPayment(data) {\n        const { paymentMethod = {} } = data;\n\n        if (paymentMethod.type !== PAYMENT_TYPES.API) {\n            const error = new Error(`${data.type} is not supported.`);\n\n            return Promise.reject(error);\n        }\n\n        return submitPayment(data, { host: this.host });\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/client/client.js\n **/","import * as PAYMENT_TYPES from './payment-types';\nimport initializeOffsitePayment from './initialize-offsite-payment';\nimport submitPayment from './submit-payment';\n\nexport {\n    PAYMENT_TYPES,\n    initializeOffsitePayment,\n    submitPayment,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/index.js\n **/","export const API = 'PAYMENT_TYPE_API';\nexport const HOSTED = 'PAYMENT_TYPE_HOSTED';\nexport const OFFLINE = 'PAYMENT_TYPE_OFFLINE';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/payment-types.js\n **/","import { getOffsitePaymentUrl } from './urls';\nimport { mapToPayload } from './offsite-mappers';\nimport { postForm } from '../common/form-request';\n\n/**\n * Initialize offsite payment\n * @param {PaymentRequestData} data\n * @param {Object} [options = {}]\n * @param {string} [options.host]\n * @returns {Promise}\n */\nexport default function initializeOffsitePayment(data, { host } = {}) {\n    const payload = mapToPayload(data);\n    const url = getOffsitePaymentUrl(host);\n\n    return postForm(url, payload);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/initialize-offsite-payment.js\n **/","/**\n * Get offsite payment URL\n * @param {string} host\n * @returns {string}\n */\nexport function getOffsitePaymentUrl(host) {\n    return `${host}/pay/initialize`;\n}\n\n/**\n * Payment URL\n * @param {string} host\n * @returns {string}\n */\nexport function getPaymentUrl(host) {\n    return `${host}/api/public/v1/orders/payments`;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/urls.js\n **/","import mapToPayload from './map-to-payload';\n\nexport {\n    mapToPayload,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/index.js\n **/","import objectAssign from 'object-assign';\nimport { omitEmpty, toString } from '../../common/utils';\nimport mapToBillingAddress from './map-to-billing-address';\nimport mapToCustomer from './map-to-customer';\nimport mapToMeta from './map-to-meta';\nimport mapToShippingAddress from './map-to-shipping-address';\nimport mapToStore from './map-to-store';\n\n/**\n * Map to payload\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToPayload(data) {\n    const { authToken, cart = {}, order = {}, paymentMethod = {} } = data;\n\n    const payload = objectAssign(\n        {\n            amount: cart.grandTotal ? cart.grandTotal.integerAmount : null,\n            bc_auth_token: authToken,\n            currency: cart.currency,\n            gateway: paymentMethod.gateway,\n            notify_url: order.callbackUrl,\n            order_id: toString(order.orderId),\n            page_title: document.title,\n            payment_method_id: paymentMethod.id,\n            reference_id: toString(order.orderId),\n            return_url: paymentMethod.config ? paymentMethod.config.redirectUrl : null,\n        },\n        mapToBillingAddress(data),\n        mapToCustomer(data),\n        mapToMeta(data),\n        mapToShippingAddress(data),\n        mapToStore(data)\n    );\n\n    return omitEmpty(payload);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/map-to-payload.js\n **/","'use strict';\n/* eslint-disable no-unused-vars */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (e) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/object-assign/index.js\n ** module id = 10\n ** module chunks = 0 1\n **/","import capitalize from './capitalize';\nimport includes from './includes';\nimport isEmpty from './is-empty';\nimport isObject from './is-object';\nimport omitEmpty from './omit-empty';\nimport omitProperty from './omit-property';\nimport toNumber from './to-number';\nimport toSnakeCase from './to-snake-case';\nimport toString from './to-string';\n\nexport {\n    capitalize,\n    includes,\n    isEmpty,\n    isObject,\n    omitEmpty,\n    omitProperty,\n    toNumber,\n    toSnakeCase,\n    toString,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/index.js\n **/","/**\n * Capitalize\n * @param {string} string\n * @returns {string}\n */\nexport default function capitalize(string) {\n    if (!string) {\n        return string;\n    }\n\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/capitalize.js\n **/","/**\n * Includes item\n * @param {array|string} items\n * @param {array|string} item\n * @returns {boolean}\n */\nexport default function includes(items, item) {\n    if (!Array.isArray(items) && typeof items !== 'string') {\n        return false;\n    }\n\n    return items.indexOf(item) !== -1;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/includes.js\n **/","import isObject from './is-object';\n\n/**\n * Is empty\n * @param {*} value\n * @returns {boolean}\n */\nexport default function isEmpty(value) {\n    if (value === '' || value === 0 || value === null || value === undefined) {\n        return true;\n    }\n\n    if (isObject(value)) {\n        return Object.keys(value).length === 0;\n    }\n\n    return false;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/is-empty.js\n **/","/**\n * Is object\n * @param {*} value\n * @returns {boolean}\n */\nexport default function isObject(value) {\n    const type = typeof value;\n\n    return value !== null && (type === 'object' || type === 'function');\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/is-object.js\n **/","import isEmpty from './is-empty';\nimport omitProperty from './omit-property';\n\n/**\n * Omit empty\n * @param {Object} object\n * @returns {Object}\n */\nexport default function omitEmpty(object) {\n    return omitProperty(object, isEmpty);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/omit-empty.js\n **/","import isObject from './is-object';\n\n/**\n * Omit property\n * @param {Object} object\n * @param {Function} predicateFn\n * @returns {Object}\n */\nexport default function omitProperty(object, predicateFn) {\n    if (!isObject(object)) {\n        return object;\n    }\n\n    const keys = Object.keys(object);\n\n    return keys.reduce((result, key) => {\n        const value = object[key];\n\n        if (!predicateFn(value)) {\n            result[key] = value;\n        }\n\n        return result;\n    }, {});\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/omit-property.js\n **/","/**\n * To number\n * @param {*} value\n * @returns {number}\n */\nexport default function toNumber(value) {\n    return parseFloat(value) || 0;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/to-number.js\n **/","/**\n * To snake case\n * @param {string} string\n * @returns {string}\n */\nexport default function toSnakeCase(string) {\n    if (!string) {\n        return string;\n    }\n\n    return string.replace(/([a-z\\d])([A-Z]+)/g, '$1_$2')\n        .replace(/[-\\s]+/g, '_')\n        .toLowerCase();\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/to-snake-case.js\n **/","/**\n * To string\n * @param {*} value\n * @returns {string}\n */\nexport default function toString(value) {\n    if (typeof value === 'string') {\n        return value;\n    }\n\n    if (typeof value === 'number' && !isNaN(value)) {\n        return value.toString();\n    }\n\n    return '';\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/to-string.js\n **/","import { omitEmpty, toSnakeCase } from '../../common/utils';\n\n/**\n * Map to address\n * @param {PaymentRequestData} data\n * @param {string} addressKey\n * @returns {Object}\n */\nexport default function mapToAddress(data, addressKey) {\n    const address = data[addressKey] || {};\n    const formattedAddressKey = toSnakeCase(addressKey);\n\n    return omitEmpty({\n        [`${formattedAddressKey}_city`]: address.city,\n        [`${formattedAddressKey}_company`]: address.company,\n        [`${formattedAddressKey}_country_code`]: address.countryCode,\n        [`${formattedAddressKey}_country`]: address.country,\n        [`${formattedAddressKey}_first_name`]: address.firstName,\n        [`${formattedAddressKey}_last_name`]: address.lastName,\n        [`${formattedAddressKey}_phone`]: address.phone,\n        [`${formattedAddressKey}_state_code`]: address.provinceCode,\n        [`${formattedAddressKey}_state`]: address.province,\n        [`${formattedAddressKey}_street_1`]: address.addressLine1,\n        [`${formattedAddressKey}_street_2`]: address.addressLine2,\n        [`${formattedAddressKey}_zip`]: address.postCode,\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/map-to-address.js\n **/","import { omitEmpty } from '../../common/utils';\n\n/**\n * Map to customer\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToCustomer(data) {\n    const { customer = {}, store = {} } = data;\n\n    return omitEmpty({\n        customer_browser_info: navigator.userAgent,\n        customer_email: customer.email,\n        customer_first_name: customer.firstName,\n        customer_geo_country_code: customer.geoCountryCode,\n        customer_last_name: customer.lastName,\n        customer_locale: store.storeLanguage,\n        customer_name: customer.name,\n        customer_phone: customer.phoneNumber,\n        customer_reference: customer.email,\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/map-to-customer.js\n **/","import { omitEmpty } from '../../common/utils';\n\n/**\n * Map to meta\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToMeta(data) {\n    const { source } = data;\n\n    return omitEmpty({\n        meta_referrer: document.referrer,\n        meta_source: source,\n        meta_user_agent: navigator.userAgent,\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/map-to-meta.js\n **/","import { omitEmpty } from '../../common/utils';\n\n/**\n * Map to store\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToStore(data) {\n    const { store = {} } = data;\n\n    return omitEmpty({\n        store_hash: store.storeHash,\n        store_id: store.storeId,\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/map-to-store.js\n **/","import postForm from './post-form';\n\nexport {\n    postForm,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/form-request/index.js\n **/","import createForm from './create-form';\n\n/**\n * Post form\n * @param {string} url\n * @param {Object} data\n * @returns {Promise}\n */\nexport default function postForm(url, data) {\n    const form = createForm(url, data);\n\n    form.submit();\n\n    return new Promise(resolve => {\n        window.addEventListener('beforeunload', function handleBeforeUnload() {\n            window.removeEventListener('beforeunload', handleBeforeUnload);\n\n            resolve();\n        });\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/form-request/post-form.js\n **/","/**\n * Create input\n * @param {string} value\n * @param {string} key\n * @returns {HTMLInputElement}\n */\nfunction createInput(value, key) {\n    const input = document.createElement('input');\n\n    input.setAttribute('name', key);\n    input.setAttribute('value', value);\n\n    return input;\n}\n\n/**\n * Create form\n * @param {string} url\n * @param {Object} data\n * @returns {HTMLFormElement}\n */\nexport default function createForm(url, data) {\n    const form = document.createElement('form');\n\n    form.setAttribute('action', url);\n    form.setAttribute('method', 'POST');\n    form.setAttribute('target', '_top');\n\n    Object.keys(data).forEach(key => {\n        const value = data[key];\n\n        form.appendChild(createInput(value, key));\n    });\n\n    return form;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/form-request/create-form.js\n **/","import { getPaymentUrl } from './urls';\nimport { postRequest } from '../common/http-request';\nimport { mapToHeaders, mapToPayload } from './mappers';\n\n/**\n * Submit payment\n * @param {PaymentRequestData} data\n * @param {Object} [options = {}]\n * @param {string} [options.host]\n * @returns {Promise}\n */\nexport default function submitPayment(data, { host } = {}) {\n    const payload = mapToPayload(data);\n    const url = getPaymentUrl(host);\n    const options = {\n        headers: mapToHeaders(data),\n    };\n\n    return postRequest(url, payload, options);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/submit-payment.js\n **/","import postRequest from './post-request';\nimport sendRequest from './send-request';\n\nexport {\n    postRequest,\n    sendRequest,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/index.js\n **/","import objectAssign from 'object-assign';\nimport { METHOD_TYPES } from './constants';\nimport sendRequest from './send-request';\n\n/**\n * Post request\n * @param {string} url\n * @param {Object} data\n * @param {Object} [options]\n * @returns {Promise}\n */\nexport default function postRequest(url, data, options) {\n    const mergedOptions = objectAssign({}, options, {\n        method: METHOD_TYPES.POST,\n    });\n\n    return sendRequest(url, data, mergedOptions);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/post-request.js\n **/","import * as CONTENT_TYPES from './content-types';\nimport * as METHOD_TYPES from './method-types';\nimport DEFAULT_OPTIONS from './default-options';\n\nexport {\n    CONTENT_TYPES,\n    DEFAULT_OPTIONS,\n    METHOD_TYPES,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/constants/index.js\n **/","export const APPLICATION_JSON = 'application/json';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/constants/content-types.js\n **/","export const GET = 'GET';\nexport const POST = 'POST';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/constants/method-types.js\n **/","import { APPLICATION_JSON } from './content-types';\nimport { GET } from './method-types';\n\nconst DEFAULT_OPTIONS = {\n    headers: {\n        Accept: APPLICATION_JSON,\n        'Content-Type': APPLICATION_JSON,\n    },\n    method: GET,\n};\n\nexport default DEFAULT_OPTIONS;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/constants/default-options.js\n **/","import deepAssign from 'deep-assign';\nimport { CONTENT_TYPES, DEFAULT_OPTIONS } from './constants';\nimport { includes } from '../utils';\nimport createRequest from './create-request';\n\n/**\n * Get request body\n * @private\n * @param {Object} data\n * @param {string} [contentType = CONTENT_TYPES.APPLICATION_JSON]\n * @returns {Object}\n */\nfunction getRequestBody(data, contentType = CONTENT_TYPES.APPLICATION_JSON) {\n    if (data && includes(contentType, CONTENT_TYPES.APPLICATION_JSON)) {\n        return JSON.stringify(data);\n    }\n\n    return data;\n}\n\n/**\n * Get error response\n * @private\n * @param {XMLHttpRequest} xhr\n * @returns {Error}\n */\nfunction getErrorResponse(xhr) {\n    const response = getResponse(xhr);\n\n    return new Error(response);\n}\n\n/**\n * Get response\n * @private\n * @param {XMLHttpRequest} xhr\n * @returns {Object}\n */\nfunction getResponse(xhr) {\n    const contentType = xhr.getResponseHeader('Content-Type');\n    const { status, statusText } = xhr;\n\n    let data = 'response' in xhr ? xhr.response : xhr.responseText;\n\n    if (data && includes(contentType, CONTENT_TYPES.APPLICATION_JSON)) {\n        data = JSON.parse(data);\n    }\n\n    return { data, status, statusText };\n}\n\n/**\n * Is request successful\n * @private\n * @param {XMLHttpRequest} xhr\n * @returns {boolean}\n */\nfunction isSuccessfulRequest(xhr) {\n    return xhr.status >= 200 && xhr.status < 300;\n}\n\n/**\n * Send request\n * @param {string} url\n * @param {Object} data\n * @param {Object} [options]\n * @returns {Promise}\n */\nexport default function sendRequest(url, data, options) {\n    const mergedOptions = deepAssign({}, DEFAULT_OPTIONS, options);\n\n    return new Promise((resolve, reject) => {\n        function onerror(xhr) {\n            reject(getErrorResponse(xhr));\n        }\n\n        function onload(xhr) {\n            if (isSuccessfulRequest(xhr)) {\n                resolve(getResponse(xhr));\n            } else {\n                reject(getErrorResponse(xhr));\n            }\n        }\n\n        const xhr = createRequest(url, mergedOptions, { onerror, onload });\n        const payload = getRequestBody(data, mergedOptions.headers['Content-Type']);\n\n        xhr.send(payload);\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/send-request.js\n **/","'use strict';\nvar isObj = require('is-obj');\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Sources cannot be null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction assignKey(to, from, key) {\n\tvar val = from[key];\n\n\tif (val === undefined || val === null) {\n\t\treturn;\n\t}\n\n\tif (hasOwnProperty.call(to, key)) {\n\t\tif (to[key] === undefined || to[key] === null) {\n\t\t\tthrow new TypeError('Cannot convert undefined or null to object (' + key + ')');\n\t\t}\n\t}\n\n\tif (!hasOwnProperty.call(to, key) || !isObj(val)) {\n\t\tto[key] = val;\n\t} else {\n\t\tto[key] = assign(Object(to[key]), from[key]);\n\t}\n}\n\nfunction assign(to, from) {\n\tif (to === from) {\n\t\treturn to;\n\t}\n\n\tfrom = Object(from);\n\n\tfor (var key in from) {\n\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\tassignKey(to, from, key);\n\t\t}\n\t}\n\n\tif (Object.getOwnPropertySymbols) {\n\t\tvar symbols = Object.getOwnPropertySymbols(from);\n\n\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\tassignKey(to, from, symbols[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n}\n\nmodule.exports = function deepAssign(target) {\n\ttarget = toObject(target);\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tassign(target, arguments[s]);\n\t}\n\n\treturn target;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/deep-assign/index.js\n ** module id = 38\n ** module chunks = 0 1\n **/","'use strict';\nmodule.exports = function (x) {\n\tvar type = typeof x;\n\treturn x !== null && (type === 'object' || type === 'function');\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/deep-assign/~/is-obj/index.js\n ** module id = 39\n ** module chunks = 0 1\n **/","/**\n * Set XHR headers\n * @private\n * @param {XMLHttpRequest} xhr\n * @param {Object} headers\n * @returns {void}\n */\nfunction setHeaders(xhr, headers) {\n    const headerKeys = Object.keys(headers);\n\n    headerKeys.forEach(key => {\n        const value = headers[key];\n\n        xhr.setRequestHeader(key, value);\n    });\n}\n\n/**\n * Set XHR options\n * @private\n * @param {XMLHttpRequest} xhr\n * @param {Object} options\n * @returns {void}\n */\nfunction setOptions(xhr, options) {\n    xhr.withCredentials = options.withCredentials;\n\n    if (options.headers) {\n        setHeaders(xhr, options.headers);\n    }\n}\n\n/**\n * Create XMLHttpRequest\n * @param {string} url\n * @param {Object} options\n * @param {Object} [callbacks]\n * @param {Function} [callbacks.onload]\n * @param {Function} [callbacks.onerror]\n * @returns {XMLHttpRequest}\n */\nexport default function createRequest(url, options, { onload, onerror } = {}) {\n    const xhr = new XMLHttpRequest();\n\n    if (onerror) {\n        xhr.onerror = () => onerror(xhr);\n    }\n\n    if (onload) {\n        xhr.onload = () => onload(xhr);\n    }\n\n    xhr.open(options.method, url, true);\n    setOptions(xhr, options);\n\n    return xhr;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/create-request.js\n **/","import mapToHeaders from './map-to-headers';\nimport mapToPayload from './map-to-payload';\n\nexport {\n    mapToHeaders,\n    mapToPayload,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/index.js\n **/","import { omitEmpty } from '../../common/utils';\n\n/**\n * Map to headers\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToHeaders(data) {\n    const { authToken } = data;\n\n    return omitEmpty({\n        Authorization: authToken,\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-headers.js\n **/","import { omitEmpty } from '../../common/utils';\nimport mapToCustomer from './map-to-customer';\nimport mapToOrder from './map-to-order';\nimport mapToPayment from './map-to-payment';\nimport mapToStore from './map-to-store';\n\n/**\n * Map to payload\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToPayload(data) {\n    const { order = {} } = data;\n\n    return omitEmpty({\n        customer: mapToCustomer(data),\n        notify_url: order.callbackUrl,\n        order: mapToOrder(data),\n        payment: mapToPayment(data),\n        store: mapToStore(data),\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-payload.js\n **/","import { omitEmpty, toString } from '../../common/utils';\n\n/**\n * Map to customer\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToCustomer(data) {\n    const { customer = {} } = data;\n\n    return omitEmpty({\n        geo_ip_country_code: customer.geoCountryCode,\n        id: toString(customer.customerId),\n        session_token: customer.sessionHash,\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-customer.js\n **/","import { omitEmpty, toString } from '../../common/utils';\nimport mapToBillingAddress from './map-to-billing-address';\nimport mapToItems from './map-to-items';\nimport mapToOrderTotals from './map-to-order-totals';\nimport mapToShippingAddress from './map-to-shipping-address';\n\n/**\n * Map to order\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToOrder(data) {\n    const { cart, order } = data;\n\n    return omitEmpty({\n        billing_address: mapToBillingAddress(data),\n        currency: cart.currency,\n        id: toString(order.orderId),\n        items: mapToItems(data),\n        shipping_address: mapToShippingAddress(data),\n        token: order.token,\n        totals: mapToOrderTotals(data),\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-order.js\n **/","import { omitEmpty } from '../../common/utils';\n\n/**\n * Map to address\n * @param {PaymentRequestData} data\n * @param {string} addressKey\n * @returns {Object}\n */\nexport default function mapToAddress(data, addressKey) {\n    const address = data[addressKey] || {};\n\n    return omitEmpty({\n        city: address.city,\n        company: address.company,\n        country_code: address.countryCode,\n        country: address.country,\n        first_name: address.firstName,\n        last_name: address.lastName,\n        phone: address.phone,\n        state_code: address.provinceCode,\n        state: address.province,\n        street_1: address.addressLine1,\n        street_2: address.addressLine2,\n        zip: address.postCode,\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-address.js\n **/","import { omitEmpty } from '../../common/utils';\n\n/**\n * Map to items\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToItems(data) {\n    const { cart = { items: [] } } = data;\n\n    return cart.items.map(itemData => omitEmpty({\n        code: itemData.id,\n        name: itemData.name,\n        price: itemData.integerAmount,\n        quantity: itemData.quantity,\n        sku: itemData.sku,\n    }));\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-items.js\n **/","import { omitEmpty } from '../../common/utils';\n\n/**\n * Map to order totals\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToOrderTotals(data) {\n    const { cart } = data;\n\n    return omitEmpty({\n        grand_total: cart.grandTotal ? cart.grandTotal.integerAmount : null,\n        handling: cart.handling ? cart.handling.integerAmount : null,\n        shipping: cart.shipping ? cart.shipping.integerAmount : null,\n        subtotal: cart.subTotal ? cart.subTotal.integerAmount : null,\n        tax: cart.taxTotal ? cart.taxTotal.integerAmount : null,\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-order-totals.js\n **/","import objectAssign from 'object-assign';\nimport { omitEmpty } from '../../common/utils';\nimport mapToCreditCard from './map-to-credit-card';\n\n/**\n * Map to payment\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToPayment(data) {\n    const { order = {}, payment = {}, paymentMethod = {} } = data;\n\n    const payload = {\n        device_info: payment.deviceData,\n        gateway: paymentMethod.id,\n        notify_url: order.callbackUrl,\n    };\n\n    if (payment.nouce) {\n        objectAssign(payload, {\n            credit_card_token: {\n                token: payment.nouce,\n            },\n        });\n    } else {\n        objectAssign(payload, {\n            credit_card: mapToCreditCard(data),\n        });\n    }\n\n    return omitEmpty(payload);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-payment.js\n **/","import { omitEmpty, toNumber } from '../../common/utils';\n\n/**\n * Map to credit card\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToCreditCard(data) {\n    const { payment = {} } = data;\n\n    return omitEmpty({\n        account_name: payment.ccName,\n        month: payment.ccExpiry ? toNumber(payment.ccExpiry.month) : null,\n        number: payment.ccNumber,\n        verification_value: payment.ccCvv,\n        year: payment.ccExpiry ? toNumber(payment.ccExpiry.year) : null,\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-credit-card.js\n **/","import { omitEmpty } from '../../common/utils';\n\n/**\n * Map to store\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToStore(data) {\n    const { store = {} } = data;\n\n    return omitEmpty({\n        hash: store.storeHash,\n        id: store.storeId,\n        name: store.storeName,\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-store.js\n **/","import mapToAddress from './map-to-address';\n\n/**\n * Map to billing address\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToBillingAddress(data) {\n    return mapToAddress(data, 'billingAddress');\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/map-to-billing-address.js\n **/","import mapToAddress from './map-to-address';\n\n/**\n * Map to shipping address\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToShippingAddress(data) {\n    return mapToAddress(data, 'shippingAddress');\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/offsite-mappers/map-to-shipping-address.js\n **/"],"sourceRoot":""}