{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 4516716d5ad088a24991","webpack:///./src/bigpay-client.js","webpack:///./src/payment/index.js","webpack:///./src/payment/payment-types.js","webpack:///./src/payment/submit-payment.js","webpack:///./src/payment/urls.js","webpack:///./src/common/http-request/index.js","webpack:///./src/common/http-request/post-request.js","webpack:///./~/object-assign/index.js","webpack:///./src/common/http-request/constants/index.js","webpack:///./src/common/http-request/constants/content-types.js","webpack:///./src/common/http-request/constants/method-types.js","webpack:///./src/common/http-request/constants/default-options.js","webpack:///./src/common/http-request/send-request.js","webpack:///./src/common/utils/index.js","webpack:///./src/common/utils/capitalize.js","webpack:///./src/common/utils/includes.js","webpack:///./src/common/utils/is-object.js","webpack:///./src/common/http-request/create-request.js","webpack:///./src/common/validation/index.js","webpack:///./src/common/validation/is-valid.js","webpack:///./src/common/validation/validate.js","webpack:///./src/common/validation/validators/index.js","webpack:///./src/common/validation/validators/validate-required.js","webpack:///./src/payment/mappers/index.js","webpack:///./src/payment/mappers/map-to-headers.js","webpack:///./src/payment/mappers/map-to-payload.js","webpack:///./src/payment/mappers/map-to-customer.js","webpack:///./src/payment/mappers/map-to-order.js","webpack:///./src/payment/mappers/map-to-billing-address.js","webpack:///./src/payment/mappers/map-to-address.js","webpack:///./src/payment/mappers/map-to-items.js","webpack:///./src/payment/mappers/map-to-order-totals.js","webpack:///./src/payment/mappers/map-to-shipping-address.js","webpack:///./src/payment/mappers/map-to-payment.js","webpack:///./src/payment/mappers/map-to-credit-card.js","webpack:///./src/payment/mappers/map-to-store.js","webpack:///./src/payment/validators/index.js","webpack:///./src/payment/validators/validate-payment-request.js","webpack:///./src/payment/validators/validate-cart.js","webpack:///./src/payment/validators/validate-order.js","webpack:///./src/payment/validators/validate-payment.js","webpack:///./src/payment/validators/validate-store.js"],"names":["BigpayClient","host","data","paymentMethod","type","HOSTED","OFFLINE","error","Error","Promise","reject","options","PAYMENT_TYPES","submitPayment","API","validation","payload","requestOptions","headers","getPaymentUrl","postRequest","sendRequest","url","mergedOptions","method","POST","CONTENT_TYPES","METHOD_TYPES","DEFAULT_OPTIONS","APPLICATION_JSON","GET","Accept","getRequestBody","contentType","JSON","stringify","getErrorResponse","xhr","response","getResponse","getResponseHeader","status","statusText","responseText","parse","isSuccessfulRequest","resolve","onerror","onload","send","capitalize","includes","isObject","string","charAt","toUpperCase","slice","items","item","Array","isArray","indexOf","value","createRequest","setHeaders","headerKeys","Object","keys","forEach","key","setRequestHeader","setOptions","withCredentials","XMLHttpRequest","open","isValid","validate","length","shift","validators","getValidator","validatorName","validateFunctionName","validateField","fieldData","fieldRules","reduce","result","validator","rules","validateRequired","undefined","mapToHeaders","mapToPayload","authToken","AUTHORIZATION","order","customer","notify_url","callbackUrl","payment","store","mapToCustomer","geo_ip_country_code","geoCountryCode","id","customerId","session_token","sessionHash","mapToOrder","cart","billing_address","currency","orderId","shipping_address","token","totals","mapToBillingAddress","mapToAddress","addressKey","address","city","company","country_code","countryCode","country","first_name","firstName","last_name","lastName","phone","state","province","street_1","addressLine1","street_2","addressLine2","zip","postCode","mapToItems","map","code","itemData","name","quantity","sku","amount","mapToOrderTotals","grand_total","grandTotal","integerAmount","handling","shipping","subtotal","subTotal","tax","taxTotal","mapToShippingAddress","mapToPayment","credit_card_token","nouce","credit_card","device_info","deviceData","gateway","mapToCreditCard","account_name","ccName","number","ccNumber","month","ccExpiry","verification_value","ccCvv","year","mapToStore","hash","storeHash","storeId","storeName","validatePaymentRequest","paymentRequestData","validateCart","cartData","validateOrder","orderData","validatePayment","paymentData","storeData"],"mappings":"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","file":"bigpay-client.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"BigpayClient\"] = factory();\n\telse\n\t\troot[\"BigpayClient\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4516716d5ad088a24991\n **/","import { PAYMENT_TYPES, submitPayment } from './payment';\n\nexport default class BigpayClient {\n    /**\n     * Construct BigpayClient\n     * @param {Object} config\n     * @param {string} config.host\n     */\n    constructor({ host }) {\n        this.host = host;\n    }\n\n    /**\n     * Submit payment\n     * @param {PaymentRequestData} data\n     * @returns {Promise}\n     */\n    submitPayment(data) {\n        const { paymentMethod = {} } = data;\n\n        if (paymentMethod.type === PAYMENT_TYPES.HOSTED ||\n            paymentMethod.type === PAYMENT_TYPES.OFFLINE) {\n            const error = new Error(`${data.type} is not supported.`);\n\n            return Promise.reject(error);\n        }\n\n        const options = { host: this.host };\n\n        return submitPayment(data, options);\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/bigpay-client.js\n **/","import * as PAYMENT_TYPES from './payment-types';\nimport submitPayment from './submit-payment';\n\nexport {\n    PAYMENT_TYPES,\n    submitPayment,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/index.js\n **/","export const API = 'PAYMENT_TYPE_API';\nexport const HOSTED = 'PAYMENT_TYPE_HOSTED';\nexport const OFFLINE = 'PAYMENT_TYPE_OFFLINE';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/payment-types.js\n **/","import { getPaymentUrl } from './urls';\nimport { postRequest } from '../common/http-request';\nimport { isValid } from '../common/validation';\nimport { mapToHeaders, mapToPayload } from './mappers';\nimport { validatePaymentRequest } from './validators';\n\n/**\n * Submit payment\n * @param {PaymentRequestData} data\n * @param {Object} [options = {}]\n * @param {string} [options.host]\n * @returns {Promise}\n */\nexport default function submitPayment(data, options = {}) {\n    const validation = validatePaymentRequest(data);\n\n    if (!isValid(validation)) {\n        return Promise.reject(new Error({ validation }));\n    }\n\n    const payload = mapToPayload(data);\n    const requestOptions = {\n        headers: mapToHeaders(data),\n    };\n\n    return postRequest(getPaymentUrl(options.host), payload, requestOptions);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/submit-payment.js\n **/","/**\n * Payment URL\n * @param {string} host\n * @returns {string}\n */\nexport function getPaymentUrl(host) {\n    return `${host}/api/public/v1/payments/payment`;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/urls.js\n **/","import postRequest from './post-request';\nimport sendRequest from './send-request';\n\nexport {\n    postRequest,\n    sendRequest,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/index.js\n **/","import objectAssign from 'object-assign';\nimport { METHOD_TYPES } from './constants';\nimport sendRequest from './send-request';\n\n/**\n * Post request\n * @param {string} url\n * @param {Object} data\n * @param {Object} [options]\n * @returns {Promise}\n */\nexport default function postRequest(url, data, options) {\n    const mergedOptions = objectAssign({}, options, {\n        method: METHOD_TYPES.POST,\n    });\n\n    return sendRequest(url, data, mergedOptions);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/post-request.js\n **/","'use strict';\n/* eslint-disable no-unused-vars */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (e) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/object-assign/index.js\n ** module id = 7\n ** module chunks = 0 1\n **/","import * as CONTENT_TYPES from './content-types';\nimport * as METHOD_TYPES from './method-types';\nimport DEFAULT_OPTIONS from './default-options';\n\nexport {\n    CONTENT_TYPES,\n    DEFAULT_OPTIONS,\n    METHOD_TYPES,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/constants/index.js\n **/","export const APPLICATION_JSON = 'application/json';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/constants/content-types.js\n **/","export const GET = 'GET';\nexport const POST = 'POST';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/constants/method-types.js\n **/","import { APPLICATION_JSON } from './content-types';\nimport { GET } from './method-types';\n\nconst DEFAULT_OPTIONS = {\n    headers: {\n        Accept: APPLICATION_JSON,\n        'Content-Type': APPLICATION_JSON,\n    },\n    method: GET,\n};\n\nexport default DEFAULT_OPTIONS;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/constants/default-options.js\n **/","import objectAssign from 'object-assign';\nimport { CONTENT_TYPES, DEFAULT_OPTIONS } from './constants';\nimport { includes } from '../utils';\nimport createRequest from './create-request';\n\n/**\n * Get request body\n * @private\n * @param {Object} data\n * @param {string} [contentType = CONTENT_TYPES.APPLICATION_JSON]\n * @returns {Object}\n */\nfunction getRequestBody(data, contentType = CONTENT_TYPES.APPLICATION_JSON) {\n    if (data && includes(contentType, CONTENT_TYPES.APPLICATION_JSON)) {\n        return JSON.stringify(data);\n    }\n\n    return data;\n}\n\n/**\n * Get error response\n * @private\n * @param {XMLHttpRequest} xhr\n * @returns {Error}\n */\nfunction getErrorResponse(xhr) {\n    const response = getResponse(xhr);\n\n    return new Error(response);\n}\n\n/**\n * Get response\n * @private\n * @param {XMLHttpRequest} xhr\n * @returns {Object}\n */\nfunction getResponse(xhr) {\n    const contentType = xhr.getResponseHeader('Content-Type');\n    const { status, statusText } = xhr;\n\n    let data = 'response' in xhr ? xhr.response : xhr.responseText;\n\n    if (data && includes(contentType, CONTENT_TYPES.APPLICATION_JSON)) {\n        data = JSON.parse(data);\n    }\n\n    return { data, status, statusText };\n}\n\n/**\n * Is request successful\n * @private\n * @param {XMLHttpRequest} xhr\n * @returns {boolean}\n */\nfunction isSuccessfulRequest(xhr) {\n    return xhr.status >= 200 && xhr.status < 300;\n}\n\n/**\n * Send request\n * @param {string} url\n * @param {Object} data\n * @param {Object} [options]\n * @returns {Promise}\n */\nexport default function sendRequest(url, data, options) {\n    const mergedOptions = objectAssign({}, DEFAULT_OPTIONS, options);\n\n    return new Promise((resolve, reject) => {\n        function onerror(xhr) {\n            reject(getErrorResponse(xhr));\n        }\n\n        function onload(xhr) {\n            if (isSuccessfulRequest(xhr)) {\n                resolve(getResponse(xhr));\n            } else {\n                reject(getErrorResponse(xhr));\n            }\n        }\n\n        const xhr = createRequest(url, mergedOptions, { onerror, onload });\n        const payload = getRequestBody(data, mergedOptions.headers['Content-Type']);\n\n        xhr.send(payload);\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/send-request.js\n **/","import capitalize from './capitalize';\nimport includes from './includes';\nimport isObject from './is-object';\n\nexport {\n    capitalize,\n    includes,\n    isObject,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/index.js\n **/","/**\n * Capitalize\n * @param {string} string\n * @returns {string}\n */\nexport default function capitalize(string) {\n    if (!string) {\n        return string;\n    }\n\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/capitalize.js\n **/","/**\n * Includes item\n * @param {array|string} items\n * @param {array|string} item\n * @returns {boolean}\n */\nexport default function includes(items, item) {\n    if (!Array.isArray(items) && typeof items !== 'string') {\n        return false;\n    }\n\n    return items.indexOf(item) !== -1;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/includes.js\n **/","/**\n * Is object\n * @param {*} value\n * @returns {boolean}\n */\nexport default function isObject(value) {\n    const type = typeof value;\n\n    return value !== null && (type === 'object' || type === 'function');\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/utils/is-object.js\n **/","/**\n * Set XHR headers\n * @private\n * @param {XMLHttpRequest} xhr\n * @param {Object} headers\n * @returns {void}\n */\nfunction setHeaders(xhr, headers) {\n    const headerKeys = Object.keys(headers);\n\n    headerKeys.forEach(key => {\n        const value = headers[key];\n\n        xhr.setRequestHeader(key, value);\n    });\n}\n\n/**\n * Set XHR options\n * @private\n * @param {XMLHttpRequest} xhr\n * @param {Object} options\n * @returns {void}\n */\nfunction setOptions(xhr, options) {\n    xhr.withCredentials = options.withCredentials;\n\n    if (options.headers) {\n        setHeaders(xhr, options.headers);\n    }\n}\n\n/**\n * Create XMLHttpRequest\n * @param {string} url\n * @param {Object} options\n * @param {Object} [callbacks]\n * @param {Function} [callbacks.onload]\n * @param {Function} [callbacks.onerror]\n * @returns {XMLHttpRequest}\n */\nexport default function createRequest(url, options, { onload, onerror } = {}) {\n    const xhr = new XMLHttpRequest();\n\n    if (onerror) {\n        xhr.onerror = () => onerror(xhr);\n    }\n\n    if (onload) {\n        xhr.onload = () => onload(xhr);\n    }\n\n    xhr.open(options.method, url, true);\n    setOptions(xhr, options);\n\n    return xhr;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/http-request/create-request.js\n **/","import isValid from './is-valid';\nimport validate from './validate';\n\nexport {\n    isValid,\n    validate,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/validation/index.js\n **/","import { isObject } from '../utils';\n\n/**\n * Is valid result\n * @param {Object} validation\n * @returns {Boolean}\n */\nexport default function isValid(validation) {\n    const keys = Object.keys(validation);\n\n    while (keys.length > 0) {\n        const key = keys.shift();\n\n        if (validation[key] === false) {\n            return false;\n        }\n\n        if (isObject(validation[key]) && !isValid(validation[key])) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/validation/is-valid.js\n **/","import { capitalize } from '../utils';\nimport * as validators from './validators';\n\n/**\n * Get validator\n * @private\n * @param {string} validatorName\n * @returns {Function|void}\n */\nfunction getValidator(validatorName) {\n    const validateFunctionName = `validate${capitalize(validatorName)}`;\n\n    return validators[validateFunctionName];\n}\n\n/**\n * Validate field\n * @private\n * @param {*} fieldData\n * @param {string[]} fieldRules\n * @returns {Object}\n */\nfunction validateField(fieldData, fieldRules) {\n    return fieldRules.reduce((result, validatorName) => {\n        const validator = getValidator(validatorName);\n\n        if (validator) {\n            result[validatorName] = validator(fieldData);\n        }\n\n        return result;\n    }, {});\n}\n\n/**\n * Validate\n * @param {Object} data\n * @param {Object|string[]} rules\n * @returns {Object}\n */\nexport default function validate(data, rules) {\n    const result = {};\n\n    Object.keys(rules).forEach(key => {\n        const fieldData = data[key];\n        const fieldRules = rules[key];\n\n        if (Array.isArray(fieldRules)) {\n            result[key] = validateField(fieldData, fieldRules);\n        } else {\n            result[key] = validate(fieldData, fieldRules);\n        }\n    });\n\n    return result;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/validation/validate.js\n **/","import validateRequired from './validate-required';\n\nexport {\n    validateRequired,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/validation/validators/index.js\n **/","/**\n * Is required value valid\n * @param {*} value\n * @returns {boolean}\n */\nexport default function validateRequired(value) {\n    return value !== undefined &&\n           value !== null &&\n           value !== '';\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/validation/validators/validate-required.js\n **/","import mapToHeaders from './map-to-headers';\nimport mapToPayload from './map-to-payload';\n\nexport {\n    mapToHeaders,\n    mapToPayload,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/index.js\n **/","/**\n * Map to headers\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToHeaders(data) {\n    const { authToken } = data;\n\n    return {\n        AUTHORIZATION: authToken,\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-headers.js\n **/","import mapToCustomer from './map-to-customer';\nimport mapToOrder from './map-to-order';\nimport mapToPayment from './map-to-payment';\nimport mapToStore from './map-to-store';\n\n/**\n * Map to payload\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToPayload(data) {\n    const { order = {} } = data;\n\n    return {\n        customer: mapToCustomer(data),\n        notify_url: order.callbackUrl,\n        order: mapToOrder(data),\n        payment: mapToPayment(data),\n        store: mapToStore(data),\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-payload.js\n **/","/**\n * Map to customer\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToCustomer(data) {\n    const { customer = {} } = data;\n\n    return {\n        geo_ip_country_code: customer.geoCountryCode,\n        id: customer.customerId,\n        session_token: customer.sessionHash,\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-customer.js\n **/","import mapToBillingAddress from './map-to-billing-address';\nimport mapToItems from './map-to-items';\nimport mapToOrderTotals from './map-to-order-totals';\nimport mapToShippingAddress from './map-to-shipping-address';\n\n/**\n * Map to order\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToOrder(data) {\n    const { cart, order } = data;\n\n    return {\n        billing_address: mapToBillingAddress(data),\n        currency: cart.currency,\n        id: order.orderId,\n        items: mapToItems(data),\n        shipping_address: mapToShippingAddress(data),\n        token: order.token,\n        totals: mapToOrderTotals(data),\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-order.js\n **/","import mapToAddress from './map-to-address';\n\n/**\n * Map to billing address\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToBillingAddress(data) {\n    return mapToAddress(data, 'billingAddress');\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-billing-address.js\n **/","/**\n * Map to address\n * @param {PaymentRequestData} data\n * @param {string} addressKey\n * @returns {Object}\n */\nexport default function mapToAddress(data, addressKey) {\n    const address = data[addressKey] || {};\n\n    return {\n        city: address.city,\n        company: address.company,\n        country_code: address.countryCode,\n        country: address.country,\n        first_name: address.firstName,\n        last_name: address.lastName,\n        phone: address.phone,\n        state: address.province,\n        street_1: address.addressLine1,\n        street_2: address.addressLine2,\n        zip: address.postCode,\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-address.js\n **/","/**\n * Map to items\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToItems(data) {\n    const { cart = { items: [] } } = data;\n\n    return cart.items.map(itemData => ({\n        code: itemData.id,\n        name: itemData.name,\n        quantity: itemData.quantity,\n        sku: itemData.sku,\n        value: itemData.amount,\n    }));\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-items.js\n **/","/**\n * Map to order totals\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToOrderTotals(data) {\n    const { cart } = data;\n\n    return {\n        grand_total: cart.grandTotal ? cart.grandTotal.integerAmount : undefined,\n        handling: cart.handling ? cart.handling.amount : undefined,\n        shipping: cart.shipping ? cart.shipping.amount : undefined,\n        subtotal: cart.subTotal ? cart.subTotal.amount : undefined,\n        tax: cart.taxTotal ? cart.taxTotal.amount : undefined,\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-order-totals.js\n **/","import mapToAddress from './map-to-address';\n\n/**\n * Map to shipping address\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToShippingAddress(data) {\n    return mapToAddress(data, 'shippingAddress');\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-shipping-address.js\n **/","import mapToCreditCard from './map-to-credit-card';\n\n/**\n * Map to payment\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToPayment(data) {\n    const { order = {}, payment = {}, paymentMethod = {} } = data;\n\n    return {\n        credit_card_token: {\n            token: payment.nouce,\n        },\n        credit_card: mapToCreditCard(data),\n        device_info: payment.deviceData,\n        gateway: paymentMethod.id,\n        notify_url: order.callbackUrl,\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-payment.js\n **/","/**\n * Map to credit card\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToCreditCard(data) {\n    const { payment = {} } = data;\n\n    return {\n        account_name: payment.ccName,\n        number: payment.ccNumber,\n        month: payment.ccExpiry ? payment.ccExpiry.month : undefined,\n        verification_value: payment.ccCvv,\n        year: payment.ccExpiry ? payment.ccExpiry.year : undefined,\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-credit-card.js\n **/","/**\n * Map to store\n * @param {PaymentRequestData} data\n * @returns {Object}\n */\nexport default function mapToStore(data) {\n    const { store = {} } = data;\n\n    return {\n        hash: store.storeHash,\n        id: store.storeId,\n        name: store.storeName,\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/mappers/map-to-store.js\n **/","import validatePaymentRequest from './validate-payment-request';\n\nexport {\n    validatePaymentRequest,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/validators/index.js\n **/","import { validateRequired } from '../../common/validation/validators';\nimport validateCart from './validate-cart';\nimport validateOrder from './validate-order';\nimport validatePayment from './validate-payment';\nimport validateStore from './validate-store';\n\n/**\n * Validate payment request data\n * @param {PaymentRequestData} paymentRequestData\n * @returns {Object}\n */\nexport default function validatePaymentRequest(paymentRequestData) {\n    const { authToken, cart, order, payment, store } = paymentRequestData;\n\n    return {\n        authToken: validateRequired(authToken),\n        cart: validateCart(cart),\n        order: validateOrder(order),\n        payment: validatePayment(payment),\n        store: validateStore(store),\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/validators/validate-payment-request.js\n **/","import { validate } from '../../common/validation';\n\n/**\n * Validate cart data\n * @param {CartData} cartData\n * @returns {Object}\n */\nexport default function validateCart(cartData) {\n    return validate(cartData, {\n        currency: ['required'],\n        grandTotal: {\n            integerAmount: ['required'],\n        },\n        id: ['required'],\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/validators/validate-cart.js\n **/","import { validate } from '../../common/validation';\n\n/**\n * Validate order data\n * @param {OrderData} orderData\n * @returns {Object}\n */\nexport default function validateOrder(orderData) {\n    return validate(orderData, {\n        orderId: ['required'],\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/validators/validate-order.js\n **/","import { validate } from '../../common/validation';\n\n/**\n * Validate payment data\n * @param {PaymentData} paymentData\n * @returns {Object}\n */\nexport default function validatePayment(paymentData) {\n    return validate(paymentData, {\n        ccName: ['required'],\n        ccNumber: ['required'],\n        ccExpiry: {\n            month: ['required'],\n            year: ['required'],\n        },\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/validators/validate-payment.js\n **/","import { validate } from '../../common/validation';\n\n/**\n * Validate store data\n * @param {StoreData} storeData\n * @returns {Object}\n */\nexport default function validateOrder(storeData) {\n    return validate(storeData, {\n        storeId: ['required'],\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/payment/validators/validate-store.js\n **/"],"sourceRoot":""}