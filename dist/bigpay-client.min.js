!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.bigpayClient=t():e.bigpayClient=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var r=t.slice(1),n=e[t[0]];return function(e,t,o){n.apply(this,[e,t,o].concat(r))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=void 0;var n=r(1);t.createClient=n.createClient},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=void 0;var o=r(2),u=n(o);t.createClient=u["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return new i["default"](e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=r(3),i=n(u)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(4),i=function(){function e(t){var r=t.host;n(this,e),this.host=r}return o(e,[{key:"initializeOffsitePayment",value:function(e){var t=e.paymentMethod,r=void 0===t?{}:t;if(r.type!==u.PAYMENT_TYPES.HOSTED){var n=new Error(e.type+" is not supported.");return Promise.reject(n)}return(0,u.initializeOffsitePayment)(e,{host:this.host})}},{key:"submitPayment",value:function(e){var t=e.paymentMethod,r=void 0===t?{}:t;if(r.type!==u.PAYMENT_TYPES.API){var n=new Error(e.type+" is not supported.");return Promise.reject(n)}return(0,u.submitPayment)(e,{host:this.host})}}]),e}();t["default"]=i},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.submitPayment=t.initializeOffsitePayment=t.PAYMENT_TYPES=void 0;var u=r(5),i=o(u),a=r(6),c=n(a),s=r(30),l=n(s);t.PAYMENT_TYPES=i,t.initializeOffsitePayment=c["default"],t.submitPayment=l["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.API="PAYMENT_TYPE_API",t.HOSTED="PAYMENT_TYPE_HOSTED",t.OFFLINE="PAYMENT_TYPE_OFFLINE"},function(e,t,r){"use strict";function n(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=t.host,n=(0,u.mapToPayload)(e),a=(0,o.getOffsitePaymentUrl)(r);return(0,i.postForm)(a,n)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var o=r(7),u=r(8),i=r(27)},function(e,t){"use strict";function r(e){return e+"/pay/initialize"}function n(e){return e+"/api/public/v1/orders/payments"}Object.defineProperty(t,"__esModule",{value:!0}),t.getOffsitePaymentUrl=r,t.getPaymentUrl=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mapToPayload=void 0;var o=r(9),u=n(o);t.mapToPayload=u["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.authToken,r=e.cart,n=void 0===r?{}:r,o=e.order,u=void 0===o?{}:o,c=e.paymentMethod,l=void 0===c?{}:c,d=(0,i["default"])({amount:n.grandTotal?n.grandTotal.integerAmount:null,bc_auth_token:t,currency:n.currency,gateway:l.gateway,notify_url:u.callbackUrl,order_id:(0,a.toString)(u.orderId),page_title:document.title,payment_method_id:l.id,reference_id:(0,a.toString)(u.orderId),return_url:l.config?l.config.redirectUrl:null},(0,s["default"])(e),(0,f["default"])(e),(0,_["default"])(e),(0,y["default"])(e),(0,m["default"])(e));return(0,a.omitEmpty)(d)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=r(10),i=n(u),a=r(11),c=r(21),s=n(c),l=r(23),f=n(l),d=r(24),_=n(d),p=r(25),y=n(p),v=r(26),m=n(v)},function(e,t){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function n(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==n.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(u){return!1}}var o=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;e.exports=n()?Object.assign:function(e,t){for(var n,i,a=r(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var s in n)o.call(n,s)&&(a[s]=n[s]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(n);for(var l=0;l<i.length;l++)u.call(n,i[l])&&(a[i[l]]=n[i[l]])}}return a}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.toString=t.toSnakeCase=t.toNumber=t.omitProperty=t.omitEmpty=t.isObject=t.isEmpty=t.includes=t.capitalize=void 0;var o=r(12),u=n(o),i=r(13),a=n(i),c=r(14),s=n(c),l=r(15),f=n(l),d=r(16),_=n(d),p=r(17),y=n(p),v=r(18),m=n(v),b=r(19),O=n(b),P=r(20),j=n(P);t.capitalize=u["default"],t.includes=a["default"],t.isEmpty=s["default"],t.isObject=f["default"],t.omitEmpty=_["default"],t.omitProperty=y["default"],t.toNumber=m["default"],t.toSnakeCase=O["default"],t.toString=j["default"]},function(e,t){"use strict";function r(e){return e?e.charAt(0).toUpperCase()+e.slice(1):e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t){"use strict";function r(e,t){return!(!Array.isArray(e)&&"string"!=typeof e)&&e.indexOf(t)!==-1}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return""===e||0===e||null===e||void 0===e||!!(0,i["default"])(e)&&0===Object.keys(e).length}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=r(15),i=n(u)},function(e,t){"use strict";function r(e){var t="undefined"==typeof e?"undefined":n(e);return null!==e&&("object"===t||"function"===t)}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t["default"]=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return(0,c["default"])(e,i["default"])}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=r(14),i=n(u),a=r(17),c=n(a)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(0,i["default"])(e))return e;var r=Object.keys(e);return r.reduce(function(r,n){var o=e[n];return t(o)||(r[n]=o),r},{})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=r(15),i=n(u)},function(e,t){"use strict";function r(e){return parseFloat(e)||0}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t){"use strict";function r(e){return e?e.replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase():e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t){"use strict";function r(e){return"string"==typeof e?e:"number"!=typeof e||isNaN(e)?"":e.toString()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},[56,22],function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r,o=e[t]||{},i=(0,u.toSnakeCase)(t);return(0,u.omitEmpty)((r={},n(r,i+"_city",o.city),n(r,i+"_company",o.company),n(r,i+"_country_code",o.countryCode),n(r,i+"_country",o.country),n(r,i+"_first_name",o.firstName),n(r,i+"_last_name",o.lastName),n(r,i+"_phone",o.phone),n(r,i+"_state_code",o.provinceCode),n(r,i+"_state",o.province),n(r,i+"_street_1",o.addressLine1),n(r,i+"_street_2",o.addressLine2),n(r,i+"_zip",o.postCode),r))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=r(11)},function(e,t,r){"use strict";function n(e){var t=e.customer,r=void 0===t?{}:t,n=e.store,u=void 0===n?{}:n;return(0,o.omitEmpty)({customer_browser_info:navigator.userAgent,customer_email:r.email,customer_first_name:r.firstName,customer_geo_country_code:r.geoCountryCode,customer_last_name:r.lastName,customer_locale:u.storeLanguage,customer_name:r.name,customer_phone:r.phoneNumber,customer_reference:r.email})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var o=r(11)},function(e,t,r){"use strict";function n(e){var t=e.source;return(0,o.omitEmpty)({meta_referrer:document.referrer,meta_source:t,meta_user_agent:navigator.userAgent})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var o=r(11)},[57,22],function(e,t,r){"use strict";function n(e){var t=e.store,r=void 0===t?{}:t;return(0,o.omitEmpty)({store_hash:r.storeHash,store_id:r.storeId})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var o=r(11)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.postForm=void 0;var o=r(28),u=n(o);t.postForm=u["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var r=(0,i["default"])(e,t);return r.submit(),new Promise(function(e){window.addEventListener("beforeunload",function t(){window.removeEventListener("beforeunload",t),e()})})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=r(29),i=n(u)},function(e,t){"use strict";function r(e,t){var r=document.createElement("input");return r.setAttribute("name",t),r.setAttribute("value",e),r}function n(e,t){var n=document.createElement("form");return n.setAttribute("action",e),n.setAttribute("method","POST"),n.setAttribute("target","_top"),Object.keys(t).forEach(function(e){var o=t[e];n.appendChild(r(o,e))}),n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,r){"use strict";function n(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=t.host,n=(0,i.mapToPayload)(e),a=(0,o.getPaymentUrl)(r),c={headers:(0,i.mapToHeaders)(e)};return(0,u.postRequest)(a,n,c)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var o=r(7),u=r(31),i=r(41)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.sendRequest=t.postRequest=void 0;var o=r(32),u=n(o),i=r(37),a=n(i);t.postRequest=u["default"],t.sendRequest=a["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){var n=(0,i["default"])({},r,{method:a.METHOD_TYPES.POST});return(0,s["default"])(e,t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=r(10),i=n(u),a=r(33),c=r(37),s=n(c)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.METHOD_TYPES=t.DEFAULT_OPTIONS=t.CONTENT_TYPES=void 0;var u=r(34),i=o(u),a=r(35),c=o(a),s=r(36),l=n(s);t.CONTENT_TYPES=i,t.DEFAULT_OPTIONS=l["default"],t.METHOD_TYPES=c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.APPLICATION_JSON="application/json"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GET="GET",t.POST="POST"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(34),o=r(35),u={headers:{Accept:n.APPLICATION_JSON,"Content-Type":n.APPLICATION_JSON},method:o.GET};t["default"]=u},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=arguments.length<=1||void 0===arguments[1]?f.CONTENT_TYPES.APPLICATION_JSON:arguments[1];return e&&(0,d.includes)(t,f.CONTENT_TYPES.APPLICATION_JSON)?JSON.stringify(e):e}function u(e){var t=i(e);return new Error(t)}function i(e){var t=e.getResponseHeader("Content-Type"),r=e.status,n=e.statusText,o="response"in e?e.response:e.responseText;return o&&(0,d.includes)(t,f.CONTENT_TYPES.APPLICATION_JSON)&&(o=JSON.parse(o)),{data:o,status:r,statusText:n}}function a(e){return e.status>=200&&e.status<300}function c(e,t,r){var n=(0,l["default"])({},f.DEFAULT_OPTIONS,r);return new Promise(function(r,c){function s(e){c(u(e))}function l(e){a(e)?r(i(e)):c(u(e))}var f=(0,p["default"])(e,n,{onerror:s,onload:l}),d=o(t,n.headers["Content-Type"]);f.send(d)})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=c;var s=r(38),l=n(s),f=r(33),d=r(11),_=r(40),p=n(_)},function(e,t,r){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Sources cannot be null or undefined");return Object(e)}function o(e,t,r){var n=t[r];if(void 0!==n&&null!==n){if(a.call(e,r)&&(void 0===e[r]||null===e[r]))throw new TypeError("Cannot convert undefined or null to object ("+r+")");a.call(e,r)&&i(n)?e[r]=u(Object(e[r]),t[r]):e[r]=n}}function u(e,t){if(e===t)return e;t=Object(t);for(var r in t)a.call(t,r)&&o(e,t,r);if(Object.getOwnPropertySymbols)for(var n=Object.getOwnPropertySymbols(t),u=0;u<n.length;u++)c.call(t,n[u])&&o(e,t,n[u]);return e}var i=r(39),a=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;e.exports=function(e){e=n(e);for(var t=1;t<arguments.length;t++)u(e,arguments[t]);return e}},function(e,t){"use strict";e.exports=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}},function(e,t){"use strict";function r(e,t){var r=Object.keys(t);r.forEach(function(r){var n=t[r];e.setRequestHeader(r,n)})}function n(e,t){e.withCredentials=t.withCredentials,t.headers&&r(e,t.headers)}function o(e,t){var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],o=r.onload,u=r.onerror,i=new XMLHttpRequest;return u&&(i.onerror=function(){return u(i)}),o&&(i.onload=function(){return o(i)}),i.open(t.method,e,!0),n(i,t),i}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mapToPayload=t.mapToHeaders=void 0;var o=r(42),u=n(o),i=r(43),a=n(i);t.mapToHeaders=u["default"],t.mapToPayload=a["default"]},function(e,t,r){"use strict";function n(e){var t=e.authToken;return(0,o.omitEmpty)({Authorization:t})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var o=r(11)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.order,r=void 0===t?{}:t;return(0,u.omitEmpty)({customer:(0,a["default"])(e),notify_url:r.callbackUrl,order:(0,s["default"])(e),payment:(0,f["default"])(e),store:(0,_["default"])(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=r(11),i=r(44),a=n(i),c=r(45),s=n(c),l=r(51),f=n(l),d=r(53),_=n(d)},function(e,t,r){"use strict";function n(e){var t=e.customer,r=void 0===t?{}:t;return(0,o.omitEmpty)({geo_ip_country_code:r.geoCountryCode,id:(0,o.toString)(r.customerId),session_token:r.sessionHash})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var o=r(11)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.cart,r=e.order;return(0,u.omitEmpty)({billing_address:(0,a["default"])(e),currency:t.currency,id:(0,u.toString)(r.orderId),items:(0,s["default"])(e),shipping_address:(0,_["default"])(e),token:r.token,totals:(0,f["default"])(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=r(11),i=r(46),a=n(i),c=r(48),s=n(c),l=r(49),f=n(l),d=r(50),_=n(d)},[56,47],function(e,t,r){"use strict";function n(e,t){var r=e[t]||{};return(0,o.omitEmpty)({city:r.city,company:r.company,country_code:r.countryCode,country:r.country,first_name:r.firstName,last_name:r.lastName,phone:r.phone,state_code:r.provinceCode,state:r.province,street_1:r.addressLine1,street_2:r.addressLine2,zip:r.postCode})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var o=r(11)},function(e,t,r){"use strict";function n(e){var t=e.cart,r=void 0===t?{items:[]}:t;return r.items.map(function(e){return(0,o.omitEmpty)({code:e.id,name:e.name,price:e.integerAmount,quantity:e.quantity,sku:e.sku})})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var o=r(11)},function(e,t,r){"use strict";function n(e){var t=e.cart;return(0,o.omitEmpty)({grand_total:t.grandTotal?t.grandTotal.integerAmount:null,handling:t.handling?t.handling.integerAmount:null,shipping:t.shipping?t.shipping.integerAmount:null,subtotal:t.subTotal?t.subTotal.integerAmount:null,tax:t.taxTotal?t.taxTotal.integerAmount:null})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var o=r(11)},[57,47],function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.order,r=void 0===t?{}:t,n=e.payment,o=void 0===n?{}:n,u=e.paymentMethod,c=void 0===u?{}:u,l={device_info:o.deviceData,gateway:c.id,notify_url:r.callbackUrl};return o.nouce?(0,i["default"])(l,{credit_card_token:{token:o.nouce}}):(0,i["default"])(l,{credit_card:(0,s["default"])(e)}),(0,a.omitEmpty)(l)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=r(10),i=n(u),a=r(11),c=r(52),s=n(c)},function(e,t,r){"use strict";function n(e){var t=e.payment,r=void 0===t?{}:t;return(0,o.omitEmpty)({account_name:r.ccName,month:r.ccExpiry?(0,o.toNumber)(r.ccExpiry.month):null,number:r.ccNumber,verification_value:r.ccCvv,year:r.ccExpiry?(0,o.toNumber)(r.ccExpiry.year):null})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var o=r(11)},function(e,t,r){"use strict";function n(e){var t=e.store,r=void 0===t?{}:t;return(0,o.omitEmpty)({hash:r.storeHash,id:r.storeId,name:r.storeName})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var o=r(11)},,,function(e,t,r,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function u(e){return(0,a["default"])(e,"billingAddress")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var i=r(n),a=o(i)},function(e,t,r,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function u(e){return(0,a["default"])(e,"shippingAddress")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var i=r(n),a=o(i)}]))});
//# sourceMappingURL=bigpay-client.min.js.map