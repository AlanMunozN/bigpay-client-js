!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.BigpayClient=t():e.BigpayClient=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var u=r[n]={exports:{},id:n,loaded:!1};return e[n].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),i=function(){function e(t){var r=t.host;n(this,e),this.host=r}return u(e,[{key:"submitPayment",value:function(e){var t=e.paymentMethod,r=void 0===t?{}:t;if(r.type===o.PAYMENT_TYPES.HOSTED||r.type===o.PAYMENT_TYPES.OFFLINE){var n=new Error(e.type+" is not supported.");return Promise.reject(n)}var u={host:this.host};return(0,o.submitPayment)(e,u)}}]),e}();t["default"]=i},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.submitPayment=t.PAYMENT_TYPES=void 0;var o=r(2),i=u(o),a=r(3),d=n(a);t.PAYMENT_TYPES=i,t.submitPayment=d["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.API="PAYMENT_TYPE_API",t.HOSTED="PAYMENT_TYPE_HOSTED",t.OFFLINE="PAYMENT_TYPE_OFFLINE"},function(e,t,r){"use strict";function n(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=(0,d.validatePaymentRequest)(e);if(!(0,i.isValid)(r))return Promise.reject(new Error({validation:r}));var n=(0,a.mapToPayload)(e),c={headers:(0,a.mapToHeaders)(e)};return(0,o.postRequest)((0,u.getPaymentUrl)(t.host),n,c)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var u=r(4),o=r(5),i=r(18),a=r(23),d=r(36)},function(e,t){"use strict";function r(e){return e+"/api/public/v1/payments/payment"}Object.defineProperty(t,"__esModule",{value:!0}),t.getPaymentUrl=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.sendRequest=t.postRequest=void 0;var u=r(6),o=n(u),i=r(12),a=n(i);t.postRequest=o["default"],t.sendRequest=a["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function u(e,t,r){var n=(0,i["default"])({},r,{method:a.METHOD_TYPES.POST});return(0,c["default"])(e,t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var o=r(7),i=n(o),a=r(8),d=r(12),c=n(d)},function(e,t){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function n(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==n.join(""))return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(e){u[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},u)).join("")}catch(o){return!1}}var u=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=n()?Object.assign:function(e,t){for(var n,i,a=r(e),d=1;d<arguments.length;d++){n=Object(arguments[d]);for(var c in n)u.call(n,c)&&(a[c]=n[c]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(n);for(var s=0;s<i.length;s++)o.call(n,i[s])&&(a[i[s]]=n[i[s]])}}return a}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.METHOD_TYPES=t.DEFAULT_OPTIONS=t.CONTENT_TYPES=void 0;var o=r(9),i=u(o),a=r(10),d=u(a),c=r(11),s=n(c);t.CONTENT_TYPES=i,t.DEFAULT_OPTIONS=s["default"],t.METHOD_TYPES=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.APPLICATION_JSON="application/json"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GET="GET",t.POST="POST"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),u=r(10),o={headers:{Accept:n.APPLICATION_JSON,"Content-Type":n.APPLICATION_JSON},method:u.GET};t["default"]=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function u(e){var t=arguments.length<=1||void 0===arguments[1]?f.CONTENT_TYPES.APPLICATION_JSON:arguments[1];return e&&(0,l.includes)(t,f.CONTENT_TYPES.APPLICATION_JSON)?JSON.stringify(e):e}function o(e){var t=i(e);return new Error(t)}function i(e){var t=e.getResponseHeader("Content-Type"),r=e.status,n=e.statusText,u="response"in e?e.response:e.responseText;return u&&(0,l.includes)(t,f.CONTENT_TYPES.APPLICATION_JSON)&&(u=JSON.parse(u)),{data:u,status:r,statusText:n}}function a(e){return e.status>=200&&e.status<300}function d(e,t,r){var n=(0,s["default"])({},f.DEFAULT_OPTIONS,r);return new Promise(function(r,d){function c(e){d(o(e))}function s(e){a(e)?r(i(e)):d(o(e))}var f=(0,_["default"])(e,n,{onerror:c,onload:s}),l=u(t,n.headers["Content-Type"]);f.send(l)})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=d;var c=r(7),s=n(c),f=r(8),l=r(13),v=r(17),_=n(v)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=t.includes=t.capitalize=void 0;var u=r(14),o=n(u),i=r(15),a=n(i),d=r(16),c=n(d);t.capitalize=o["default"],t.includes=a["default"],t.isObject=c["default"]},function(e,t){"use strict";function r(e){return e?e.charAt(0).toUpperCase()+e.slice(1):e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t){"use strict";function r(e,t){return!(!Array.isArray(e)&&"string"!=typeof e)&&e.indexOf(t)!==-1}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t){"use strict";function r(e){var t="undefined"==typeof e?"undefined":n(e);return null!==e&&("object"===t||"function"===t)}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t["default"]=r},function(e,t){"use strict";function r(e,t){var r=Object.keys(t);r.forEach(function(r){var n=t[r];e.setRequestHeader(r,n)})}function n(e,t){e.withCredentials=t.withCredentials,t.headers&&r(e,t.headers)}function u(e,t){var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],u=r.onload,o=r.onerror,i=new XMLHttpRequest;return o&&(i.onerror=function(){return o(i)}),u&&(i.onload=function(){return u(i)}),i.open(t.method,e,!0),n(i,t),i}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.validate=t.isValid=void 0;var u=r(19),o=n(u),i=r(20),a=n(i);t.isValid=o["default"],t.validate=a["default"]},function(e,t,r){"use strict";function n(e){for(var t=Object.keys(e);t.length>0;){var r=t.shift();if(e[r]===!1)return!1;if((0,u.isObject)(e[r])&&!n(e[r]))return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var u=r(13)},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function u(e){var t="validate"+(0,a.capitalize)(e);return c[t]}function o(e,t){return t.reduce(function(t,r){var n=u(r);return n&&(t[r]=n(e)),t},{})}function i(e,t){var r={};return Object.keys(t).forEach(function(n){var u=e[n],a=t[n];Array.isArray(a)?r[n]=o(u,a):r[n]=i(u,a)}),r}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var a=r(13),d=r(21),c=n(d)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.validateRequired=void 0;var u=r(22),o=n(u);t.validateRequired=o["default"]},function(e,t){"use strict";function r(e){return void 0!==e&&null!==e&&""!==e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mapToPayload=t.mapToHeaders=void 0;var u=r(24),o=n(u),i=r(25),a=n(i);t.mapToHeaders=o["default"],t.mapToPayload=a["default"]},function(e,t){"use strict";function r(e){var t=e.authToken;return{AUTHORIZATION:t}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function u(e){var t=e.order,r=void 0===t?{}:t;return{customer:(0,i["default"])(e),notify_url:r.callbackUrl,order:(0,d["default"])(e),payment:(0,s["default"])(e),store:(0,l["default"])(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var o=r(26),i=n(o),a=r(27),d=n(a),c=r(33),s=n(c),f=r(35),l=n(f)},function(e,t){"use strict";function r(e){var t=e.customer,r=void 0===t?{}:t;return{geo_ip_country_code:r.geoCountryCode,id:r.customerId,session_token:r.sessionHash}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function u(e){var t=e.cart,r=e.order;return{billing_address:(0,i["default"])(e),currency:t.currency,id:r.orderId,items:(0,d["default"])(e),shipping_address:(0,l["default"])(e),token:r.token,totals:(0,s["default"])(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var o=r(28),i=n(o),a=r(30),d=n(a),c=r(31),s=n(c),f=r(32),l=n(f)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function u(e){return(0,i["default"])(e,"billingAddress")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var o=r(29),i=n(o)},function(e,t){"use strict";function r(e,t){var r=e[t]||{};return{city:r.city,company:r.company,country_code:r.countryCode,country:r.country,first_name:r.firstName,last_name:r.lastName,phone:r.phone,state:r.province,street_1:r.addressLine1,street_2:r.addressLine2,zip:r.postCode}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t){"use strict";function r(e){var t=e.cart,r=void 0===t?{items:[]}:t;return r.items.map(function(e){return{code:e.id,name:e.name,quantity:e.quantity,sku:e.sku,value:e.amount}})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t){"use strict";function r(e){var t=e.cart;return{grand_total:t.grandTotal?t.grandTotal.integerAmount:void 0,handling:t.handling?t.handling.amount:void 0,shipping:t.shipping?t.shipping.amount:void 0,subtotal:t.subTotal?t.subTotal.amount:void 0,tax:t.taxTotal?t.taxTotal.amount:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function u(e){return(0,i["default"])(e,"shippingAddress")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var o=r(29),i=n(o)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function u(e){var t=e.order,r=void 0===t?{}:t,n=e.payment,u=void 0===n?{}:n,o=e.paymentMethod,a=void 0===o?{}:o;return{credit_card_token:{token:u.nouce},credit_card:(0,i["default"])(e),device_info:u.deviceData,gateway:a.id,notify_url:r.callbackUrl}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var o=r(34),i=n(o)},function(e,t){"use strict";function r(e){var t=e.payment,r=void 0===t?{}:t;return{account_name:r.ccName,number:r.ccNumber,month:r.ccExpiry?r.ccExpiry.month:void 0,verification_value:r.ccCvv,year:r.ccExpiry?r.ccExpiry.year:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t){"use strict";function r(e){var t=e.store,r=void 0===t?{}:t;return{hash:r.storeHash,id:r.storeId,name:r.storeName}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.validatePaymentRequest=void 0;var u=r(37),o=n(u);t.validatePaymentRequest=o["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function u(e){var t=e.authToken,r=e.cart,n=e.order,u=e.payment,i=e.store;return{authToken:(0,o.validateRequired)(t),cart:(0,a["default"])(r),order:(0,c["default"])(n),payment:(0,f["default"])(u),store:(0,v["default"])(i)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var o=r(21),i=r(38),a=n(i),d=r(39),c=n(d),s=r(40),f=n(s),l=r(41),v=n(l)},function(e,t,r){"use strict";function n(e){return(0,u.validate)(e,{currency:["required"],grandTotal:{integerAmount:["required"]},id:["required"]})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var u=r(18)},function(e,t,r){"use strict";function n(e){return(0,u.validate)(e,{orderId:["required"]})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var u=r(18)},function(e,t,r){"use strict";function n(e){return(0,u.validate)(e,{ccName:["required"],ccNumber:["required"],ccExpiry:{month:["required"],year:["required"]}})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var u=r(18)},function(e,t,r){"use strict";function n(e){return(0,u.validate)(e,{storeId:["required"]})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var u=r(18)}])});
//# sourceMappingURL=bigpay-client.min.js.map