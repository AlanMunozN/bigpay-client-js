{"version":3,"sources":["../../src/client/client.js"],"names":["Client","config","clientConfig","offsitePaymentInitializer","create","paymentSubmitter","clientTokenGenerator","storeRequestSender","host","data","callback","initializeOffsitePayment","submitPayment","generateClientToken","getShopperInstruments","postShopperInstrument","deleteShopperInstrument"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;IAEqBA,M;;;;AACjB;;;;2BAIcC,M,EAAQ;AAClB,UAAMC,eAAe,4BAAa,EAAb,2BAAiCD,MAAjC,CAArB;AACA,UAAME,4BAA4B,oCAA0BC,MAA1B,CAAiCF,YAAjC,CAAlC;AACA,UAAMG,mBAAmB,2BAAiBD,MAAjB,CAAwBF,YAAxB,CAAzB;AACA,UAAMI,uBAAuB,+BAAqBF,MAArB,CAA4BF,YAA5B,CAA7B;AACA,UAAMK,qBAAqB,6BAAmBH,MAAnB,CAA0BF,YAA1B,CAA3B;;AAEA,aAAO,IAAIF,MAAJ,CACHE,YADG,EAEHG,gBAFG,EAGHF,yBAHG,EAIHG,oBAJG,EAKHC,kBALG,CAAP;AAOH;;AAED;;;;;;;;;;AAOA,kBACIN,MADJ,EAEII,gBAFJ,EAGIF,yBAHJ,EAIIG,oBAJJ,EAKIC,kBALJ,EAME;AAAA;;AACE;;;;AAIA,SAAKN,MAAL,GAAcA,MAAd;;AAEA;;;;AAIA,SAAKI,gBAAL,GAAwBA,gBAAxB;;AAEA;;;;AAIA,SAAKF,yBAAL,GAAiCA,yBAAjC;;AAEA;;;;AAIA,SAAKG,oBAAL,GAA4BA,oBAA5B;;AAEA;;;;AAIA,SAAKC,kBAAL,GAA0BA,kBAA1B;AACH;;;;4BAEOC,I,EAAM;AACV,WAAKP,MAAL,CAAYO,IAAZ,GAAmBA,IAAnB;AACH;;AAED;;;;;;;;6CAKyBC,I,EAAMC,Q,EAAU;AACrC,WAAKP,yBAAL,CAA+BQ,wBAA/B,CAAwDF,IAAxD,EAA8DC,QAA9D;AACH;;AAED;;;;;;;;kCAKcD,I,EAAMC,Q,EAAU;AAC1B,WAAKL,gBAAL,CAAsBO,aAAtB,CAAoCH,IAApC,EAA0CC,QAA1C;AACH;;AAED;;;;;;;;wCAKoBD,I,EAAMC,Q,EAAU;AAChC,WAAKJ,oBAAL,CAA0BO,mBAA1B,CAA8CJ,IAA9C,EAAoDC,QAApD;AACH;;AAED;;;;;;;;;;0CAOsBD,I,EAAMC,Q,EAAU;AAClC,WAAKH,kBAAL,CAAwBO,qBAAxB,CAA8CL,IAA9C,EAAoDC,QAApD;AACH;;AAED;;;;;;;;;;;;;;0CAWsBD,I,EAAMC,Q,EAAU;AAClC,WAAKH,kBAAL,CAAwBQ,qBAAxB,CAA8CN,IAA9C,EAAoDC,QAApD;AACH;;AAED;;;;;;;;;;;4CAQwBD,I,EAAMC,Q,EAAU;AACpC,WAAKH,kBAAL,CAAwBS,uBAAxB,CAAgDP,IAAhD,EAAsDC,QAAtD;AACH;;;;;;kBArIgBV,M","file":"client.js","sourcesContent":["import objectAssign from 'object-assign';\nimport OffsitePaymentInitializer from '../payment/offsite-payment-initializer';\nimport PaymentSubmitter from '../payment/payment-submitter';\nimport ClientTokenGenerator from '../payment/client-token-generator';\nimport StoreRequestSender from '../store/store-request-sender';\nimport DEFAULT_CONFIG from './default-config';\n\nexport default class Client {\n    /**\n     * @param {Object} config\n     * @returns {Client}\n     */\n    static create(config) {\n        const clientConfig = objectAssign({}, DEFAULT_CONFIG, config);\n        const offsitePaymentInitializer = OffsitePaymentInitializer.create(clientConfig);\n        const paymentSubmitter = PaymentSubmitter.create(clientConfig);\n        const clientTokenGenerator = ClientTokenGenerator.create(clientConfig);\n        const storeRequestSender = StoreRequestSender.create(clientConfig);\n\n        return new Client(\n            clientConfig,\n            paymentSubmitter,\n            offsitePaymentInitializer,\n            clientTokenGenerator,\n            storeRequestSender\n        );\n    }\n\n    /**\n     * @param {Object} config\n     * @param {PaymentSubmitter} paymentSubmitter\n     * @param {OffsitePaymentInitializer} offsitePaymentInitializer\n     * @param {ClientTokenGenerator} clientTokenGenerator\n     * @param {StoreRequestSender} storeRequestSender\n     */\n    constructor(\n        config,\n        paymentSubmitter,\n        offsitePaymentInitializer,\n        clientTokenGenerator,\n        storeRequestSender\n    ) {\n        /**\n         * @private\n         * @type {Object}\n         */\n        this.config = config;\n\n        /**\n         * @private\n         * @type {PaymentSubmitter}\n         */\n        this.paymentSubmitter = paymentSubmitter;\n\n        /**\n         * @private\n         * @type {OffsitePaymentInitializer}\n         */\n        this.offsitePaymentInitializer = offsitePaymentInitializer;\n\n        /**\n         * @private\n         * @type {ClientTokenGenerator}\n         */\n        this.clientTokenGenerator = clientTokenGenerator;\n\n        /**\n         * @private\n         * @type {StoreRequestSender}\n         */\n        this.storeRequestSender = storeRequestSender;\n    }\n\n    setHost(host) {\n        this.config.host = host;\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @param {Function} [callback]\n     * @returns {void}\n     */\n    initializeOffsitePayment(data, callback) {\n        this.offsitePaymentInitializer.initializeOffsitePayment(data, callback);\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @param {Function} [callback]\n     * @returns {void}\n     */\n    submitPayment(data, callback) {\n        this.paymentSubmitter.submitPayment(data, callback);\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @param {Function} [callback]\n     * @returns {void}\n     */\n    generateClientToken(data, callback) {\n        this.clientTokenGenerator.generateClientToken(data, callback);\n    }\n\n    /**\n     * @param {Object} data\n     * @param {string} data.storeId\n     * @param {string} data.shopperId\n     * @param {Function} [callback]\n     * @return {void}\n     */\n    getShopperInstruments(data, callback) {\n        this.storeRequestSender.getShopperInstruments(data, callback);\n    }\n\n    /**\n     * @param {Object} data\n     * @param {string} data.storeId\n     * @param {string} data.shopperId\n     * @param {CreditCard} data.creditCard\n     * @param {AddressData} data.billingAddress\n     * @param {boolean} data.defaultInstrument\n     * @param {string} data.providerName\n     * @param {Function} [callback]\n     * @return {void}\n     */\n    postShopperInstrument(data, callback) {\n        this.storeRequestSender.postShopperInstrument(data, callback);\n    }\n\n    /**\n     * @param {Object} data\n     * @param {string} data.storeId\n     * @param {string} data.shopperId\n     * @param {string} data.instrumentId\n     * @param {Function} [callback]\n     * @return {void}\n     */\n    deleteShopperInstrument(data, callback) {\n        this.storeRequestSender.deleteShopperInstrument(data, callback);\n    }\n}\n"]}