{"version":3,"sources":["../../../../src/payment/v1/payment-mappers/payload-mapper.js"],"names":["PayloadMapper","customerMapper","create","orderMapper","paymentMapper","storeMapper","data","order","customer","mapToCustomer","notify_url","callbackUrl","mapToOrder","payment","mapToPayment","store","mapToStore","authToken","Authorization"],"mappings":";;;;;;;;AAAA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;IAEqBA,a;;;;AACjB;;;6BAGgB;AACZ,UAAMC,iBAAiB,yBAAeC,MAAf,EAAvB;AACA,UAAMC,cAAc,sBAAYD,MAAZ,EAApB;AACA,UAAME,gBAAgB,wBAAcF,MAAd,EAAtB;AACA,UAAMG,cAAc,sBAAYH,MAAZ,EAApB;;AAEA,aAAO,IAAIF,aAAJ,CAAkBC,cAAlB,EAAkCE,WAAlC,EAA+CC,aAA/C,EAA8DC,WAA9D,CAAP;AACH;;AAED;;;;;;;;;AAMA,yBAAYJ,cAAZ,EAA4BE,WAA5B,EAAyCC,aAAzC,EAAwDC,WAAxD,EAAqE;AAAA;;AACjE;;;;AAIA,SAAKJ,cAAL,GAAsBA,cAAtB;;AAEA;;;;AAIA,SAAKE,WAAL,GAAmBA,WAAnB;;AAEA;;;;AAIA,SAAKC,aAAL,GAAqBA,aAArB;;AAEA;;;;AAIA,SAAKC,WAAL,GAAmBA,WAAnB;AACH;;AAED;;;;;;;;iCAIaC,I,EAAM;AAAA,wBACQA,IADR,CACPC,KADO;AAAA,UACPA,KADO,+BACC,EADD;;;AAGf,aAAO,oBAAQ;AACXC,kBAAU,KAAKP,cAAL,CAAoBQ,aAApB,CAAkCH,IAAlC,CADC;AAEXI,oBAAYH,MAAMI,WAFP;AAGXJ,eAAO,KAAKJ,WAAL,CAAiBS,UAAjB,CAA4BN,IAA5B,CAHI;AAIXO,iBAAS,KAAKT,aAAL,CAAmBU,YAAnB,CAAgCR,IAAhC,CAJE;AAKXS,eAAO,KAAKV,WAAL,CAAiBW,UAAjB,CAA4BV,IAA5B;AALI,OAAR,CAAP;AAOH;;AAED;;;;;;;iCAIaA,I,EAAM;AAAA,UACPW,SADO,GACOX,IADP,CACPW,SADO;;;AAGf,aAAO,oBAAQ;AACXC,uBAAeD;AADJ,OAAR,CAAP;AAGH;;;;;;kBAvEgBjB,a","file":"payload-mapper.js","sourcesContent":["import { omitNil } from '../../../common/utils';\nimport CustomerMapper from './customer-mapper';\nimport OrderMapper from './order-mapper';\nimport PaymentMapper from './payment-mapper';\nimport StoreMapper from './store-mapper';\n\nexport default class PayloadMapper {\n    /**\n     * @returns {PayloadMapper}\n     */\n    static create() {\n        const customerMapper = CustomerMapper.create();\n        const orderMapper = OrderMapper.create();\n        const paymentMapper = PaymentMapper.create();\n        const storeMapper = StoreMapper.create();\n\n        return new PayloadMapper(customerMapper, orderMapper, paymentMapper, storeMapper);\n    }\n\n    /**\n     * @param {CustomerMapper} customerMapper\n     * @param {OrderMapper} orderMapper\n     * @param {PaymentMapper} paymentMapper\n     * @param {StoreMapper} storeMapper\n     */\n    constructor(customerMapper, orderMapper, paymentMapper, storeMapper) {\n        /**\n         * @private\n         * @type {CustomerMapper}\n         */\n        this.customerMapper = customerMapper;\n\n        /**\n         * @private\n         * @type {OrderMapper}\n         */\n        this.orderMapper = orderMapper;\n\n        /**\n         * @private\n         * @type {PaymentMapper}\n         */\n        this.paymentMapper = paymentMapper;\n\n        /**\n         * @private\n         * @type {StoreMapper}\n         */\n        this.storeMapper = storeMapper;\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @returns {Object}\n     */\n    mapToPayload(data) {\n        const { order = {} } = data;\n\n        return omitNil({\n            customer: this.customerMapper.mapToCustomer(data),\n            notify_url: order.callbackUrl,\n            order: this.orderMapper.mapToOrder(data),\n            payment: this.paymentMapper.mapToPayment(data),\n            store: this.storeMapper.mapToStore(data),\n        });\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @returns {Object}\n     */\n    mapToHeaders(data) {\n        const { authToken } = data;\n\n        return omitNil({\n            Authorization: authToken,\n        });\n    }\n}\n"]}